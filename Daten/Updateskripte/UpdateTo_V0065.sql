-- Sprachen und Schriften überarbeitet
DELETE FROM Held_Talent WHERE HeldGUID in 
(SELECT HeldGUID FROM Held_Talent WHERE TalentGUID in ('00000000-0000-0000-007a-000000000101', '00000000-0000-0000-007a-000000000102') GROUP BY Held_GUID HAVING COUNT(*) > 1)
AND TalentGUID='00000000-0000-0000-007a-000000000102';
UPDATE Held_Talent SET TalentGUID='00000000-0000-0000-007a-000000000101' WHERE TalentGUID='00000000-0000-0000-007a-000000000102';
DELETE FROM Talent WHERE TalentGUID='00000000-0000-0000-007a-000000000102';

DELETE FROM Held_Talent WHERE HeldGUID in 
(SELECT HeldGUID FROM Held_Talent WHERE TalentGUID in ('00000000-0000-0000-007a-000000000261', '00000000-0000-0000-007a-000000000262') GROUP BY Held_GUID HAVING COUNT(*) > 1)
AND TalentGUID='00000000-0000-0000-007a-000000000262';
UPDATE Held_Talent SET TalentGUID='00000000-0000-0000-007a-000000000261' WHERE TalentGUID='00000000-0000-0000-007a-000000000262';
DELETE FROM Talent WHERE TalentGUID='00000000-0000-0000-007a-000000000262';


DELETE FROM Held_Talent WHERE HeldGUID in 
(SELECT HeldGUID FROM Held_Talent WHERE TalentGUID in ('00000000-0000-0000-007a-000000000151', '00000000-0000-0000-007a-000000000096') GROUP BY Held_GUID HAVING COUNT(*) > 1)
AND TalentGUID='00000000-0000-0000-007a-000000000096';
UPDATE Held_Talent SET TalentGUID='00000000-0000-0000-007a-000000000151' WHERE TalentGUID='00000000-0000-0000-007a-000000000096';
DELETE FROM Talent WHERE TalentGUID='00000000-0000-0000-007a-000000000096';

-- Imperiale Sprachen nochmal durchsehen
-- hier muss noch viel mehr passieren.


--gossenstil -> bornländisch
DELETE FROM Held_Sonderfertigkeit WHERE HeldGUID in 
(SELECT HeldGUID FROM Held_Sonderfertigkeit WHERE SonderfertigkeitGUID in ('00000000-0000-0000-005f-000000000066', '00000000-0000-0000-005f-000000000924') GROUP BY Held_GUID HAVING COUNT(*) > 1)
AND SonderfertigkeitGUID='00000000-0000-0000-005f-000000000924';
UPDATE Held_Sonderfertigkeit SET SonderfertigkeitGUID='00000000-0000-0000-005f-000000000066' WHERE SonderfertigkeitGUID='00000000-0000-0000-005f-000000000924';
DELETE FROM Sonderfertigkeit WHERE SonderfertigkeitGUID='00000000-0000-0000-005f-000000000924';

--legionärsstil -> mercanario
DELETE FROM Held_Sonderfertigkeit WHERE HeldGUID in 
(SELECT HeldGUID FROM Held_Sonderfertigkeit WHERE SonderfertigkeitGUID in ('00000000-0000-0000-005f-000000000070', '00000000-0000-0000-005f-000000000925') GROUP BY Held_GUID HAVING COUNT(*) > 1)
AND SonderfertigkeitGUID='00000000-0000-0000-005f-000000000925';
UPDATE Held_Sonderfertigkeit SET SonderfertigkeitGUID='00000000-0000-0000-005f-000000000070' WHERE SonderfertigkeitGUID='00000000-0000-0000-005f-000000000925';
DELETE FROM Sonderfertigkeit WHERE SonderfertigkeitGUID='00000000-0000-0000-005f-000000000925';

--cyclopeisches ringen -> unauer schule
DELETE FROM Held_Sonderfertigkeit WHERE HeldGUID in 
(SELECT HeldGUID FROM Held_Sonderfertigkeit WHERE SonderfertigkeitGUID in ('00000000-0000-0000-005f-000000000071', '00000000-0000-0000-005f-000000000926') GROUP BY Held_GUID HAVING COUNT(*) > 1)
AND SonderfertigkeitGUID='00000000-0000-0000-005f-000000000926';
UPDATE Held_Sonderfertigkeit SET SonderfertigkeitGUID='00000000-0000-0000-005f-000000000071' WHERE SonderfertigkeitGUID='00000000-0000-0000-005f-000000000926';
DELETE FROM Sonderfertigkeit WHERE SonderfertigkeitGUID='00000000-0000-0000-005f-000000000926';

--echsenzwinger -> unauer schule
DELETE FROM Held_Sonderfertigkeit WHERE HeldGUID in 
(SELECT HeldGUID FROM Held_Sonderfertigkeit WHERE SonderfertigkeitGUID in ('00000000-0000-0000-005f-000000000071', '00000000-0000-0000-005f-000000000927') GROUP BY Held_GUID HAVING COUNT(*) > 1)
AND SonderfertigkeitGUID='00000000-0000-0000-005f-000000000927';
UPDATE Held_Sonderfertigkeit SET SonderfertigkeitGUID='00000000-0000-0000-005f-000000000071' WHERE SonderfertigkeitGUID='00000000-0000-0000-005f-000000000927';
DELETE FROM Sonderfertigkeit WHERE SonderfertigkeitGUID='00000000-0000-0000-005f-000000000927';

