<UserControl x:Class="MeisterGeister.View.AudioPlayer.AudioPlayerView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    xmlns:vmAudioPlayer="clr-namespace:MeisterGeister.ViewModel.AudioPlayer"
    xmlns:Microsoft_Windows_Themes="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Aero" 
    xmlns:local="clr-namespace:MeisterGeister.View.AudioPlayer"
    xmlns:ViewGeneral="clr-namespace:MeisterGeister.View.General"  	    
    mc:Ignorable="d"
    d:DesignHeight="571" d:DesignWidth="1046" Background="{StaticResource Background1}" Loaded="Window_Loaded" Unloaded="Window_Unloaded" KeyDown="Window_KeyDown" Margin="0,5,5,0" IsEnabled="True">




    <UserControl.Resources>

        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>

        <Style x:Key="ImageEnabled" TargetType="Image">
            <Style.Triggers>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Opacity" Value="0.25"></Setter>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="GlasButton" TargetType="{x:Type Button}">
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="OverridesDefaultStyle" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Grid>
                            <!-- Background Layer -->
                            <Ellipse Fill="{TemplateBinding Background}"/>
                            <!-- Lichtbrechungs-Layer -->
                            <Ellipse x:Name="RefractionLayer">
                                <Ellipse.Fill>
                                    <RadialGradientBrush GradientOrigin="0.496,1.052">
                                        <RadialGradientBrush.RelativeTransform>
                                            <TransformGroup>
                                                <ScaleTransform CenterX="0.5" CenterY="0.5" ScaleX="1.5" ScaleY="1.5"/>
                                                <TranslateTransform X="0.02" Y="0.3"/>
                                            </TransformGroup>
                                        </RadialGradientBrush.RelativeTransform>
                                        <GradientStop Offset="1" Color="#00000000"/>
                                        <GradientStop Offset="0.4" Color="#FFFFFFFF"/>
                                    </RadialGradientBrush>
                                </Ellipse.Fill>
                            </Ellipse>
                            <!-- Spieglungs-Layer -->
                            <Path x:Name="ReflectionLayer" VerticalAlignment="Top" Stretch="Fill">
                                <Path.RenderTransform>
                                    <ScaleTransform ScaleY="0.5" />
                                </Path.RenderTransform>
                                <Path.Data>
                                    <PathGeometry>
                                        <PathFigure IsClosed="True" StartPoint="98.999,45.499">
                                            <BezierSegment Point1="98.999,54.170" Point2="89.046,52.258" Point3="85.502,51.029"/>
                                            <BezierSegment
                                    IsSmoothJoin="True"
                                    Point1="75.860,47.685"
                                    Point2="69.111,45.196"
                                    Point3="50.167,45.196"/>
                                            <BezierSegment Point1="30.805,45.196" Point2="20.173,47.741" Point3="10.665,51.363"/>
                                            <BezierSegment
                                    IsSmoothJoin="True"
                                    Point1="7.469,52.580"
                                    Point2="1.000,53.252"
                                    Point3="1.000,44.999"/>
                                            <BezierSegment Point1="1.000,39.510" Point2="0.884,39.227" Point3="2.519,34.286"/>
                                            <BezierSegment
                                    IsSmoothJoin="True"
                                    Point1="9.106,14.370"
                                    Point2="27.875,0"
                                    Point3="50,0"/>
                                            <BezierSegment Point1="72.198,0" Point2="91.018,14.466" Point3="97.546,34.485"/>
                                            <BezierSegment
                                    IsSmoothJoin="True"
                                    Point1="99.139,39.369"
                                    Point2="98.999,40.084"
                                    Point3="98.999,45.499"/>
                                        </PathFigure>
                                    </PathGeometry>
                                </Path.Data>
                                <Path.Fill>
                                    <RadialGradientBrush GradientOrigin="0.498,0.526">
                                        <RadialGradientBrush.RelativeTransform>
                                            <TransformGroup>
                                                <ScaleTransform
                                       CenterX="0.5"
                                       CenterY="0.5"
                                       ScaleX="1"
                                       ScaleY="1.997"/>
                                                <TranslateTransform X="0" Y="0.5"/>
                                            </TransformGroup>
                                        </RadialGradientBrush.RelativeTransform>
                                        <GradientStop Offset="1" Color="#FFFFFFFF"/>
                                        <GradientStop Offset="0.85" Color="#92FFFFFF"/>
                                        <GradientStop Offset="0" Color="#00000000"/>
                                    </RadialGradientBrush>
                                </Path.Fill>
                            </Path>
                            <!-- Content -->
                            <ContentPresenter Margin="0,2,0,0" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="RefractionLayer" Property="Fill">
                                    <Setter.Value>
                                        <RadialGradientBrush GradientOrigin="0.496,1.052">
                                            <RadialGradientBrush.RelativeTransform>
                                                <TransformGroup>
                                                    <ScaleTransform
                                          CenterX="0.5"
                                          CenterY="0.5"
                                          ScaleX="1.5"
                                          ScaleY="1.5"/>
                                                    <TranslateTransform X="0.02" Y="0.3"/>
                                                </TransformGroup>
                                            </RadialGradientBrush.RelativeTransform>
                                            <GradientStop Offset="1" Color="#00000000"/>
                                            <GradientStop Offset="0.45" Color="#FFFFFFFF"/>
                                        </RadialGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="ReflectionLayer" Property="Fill">
                                    <Setter.Value>
                                        <RadialGradientBrush GradientOrigin="0.498,0.526">
                                            <RadialGradientBrush.RelativeTransform>
                                                <TransformGroup>
                                                    <ScaleTransform
                                          CenterX="0.5"
                                          CenterY="0.5"
                                          ScaleX="1"
                                          ScaleY="1.997"/>
                                                    <TranslateTransform X="0" Y="0.5"/>
                                                </TransformGroup>
                                            </RadialGradientBrush.RelativeTransform>
                                            <GradientStop Offset="1" Color="#FFFFFFFF"/>
                                            <GradientStop Offset="0.85" Color="#BBFFFFFF"/>
                                            <GradientStop Offset="0" Color="#00000000"/>
                                        </RadialGradientBrush>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="RefractionLayer" Property="Fill">
                                    <Setter.Value>
                                        <RadialGradientBrush GradientOrigin="0.496,1.052">
                                            <RadialGradientBrush.RelativeTransform>
                                                <TransformGroup>
                                                    <ScaleTransform
                                          CenterX="0.5"
                                          CenterY="0.5"
                                          ScaleX="1.5"
                                          ScaleY="1.5"/>
                                                    <TranslateTransform X="0.02" Y="0.3"/>
                                                </TransformGroup>
                                            </RadialGradientBrush.RelativeTransform>
                                            <GradientStop Offset="1" Color="#00000000"/>
                                            <GradientStop Offset="0.3" Color="#FFFFFFFF"/>
                                        </RadialGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="ReflectionLayer" Property="Fill">
                                    <Setter.Value>
                                        <RadialGradientBrush GradientOrigin="0.498,0.526">
                                            <RadialGradientBrush.RelativeTransform>
                                                <TransformGroup>
                                                    <ScaleTransform
                                          CenterX="0.5"
                                          CenterY="0.5"
                                          ScaleX="1"
                                          ScaleY="1.997"/>
                                                    <TranslateTransform X="0" Y="0.5"/>
                                                </TransformGroup>
                                            </RadialGradientBrush.RelativeTransform>
                                            <GradientStop Offset="1" Color="#CCFFFFFF"/>
                                            <GradientStop Offset="0.85" Color="#66FFFFFF"/>
                                            <GradientStop Offset="0" Color="#00000000"/>
                                        </RadialGradientBrush>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SimpleListBoxItem" TargetType="ListBoxItem">
            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListBoxItem">
                        <Border Name="Border" Padding="2" SnapsToDevicePixels="true">
                            <ContentPresenter />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter TargetName="Border" Property="Background" Value="#38BEB3A3" />
                            </Trigger>
                            <Trigger Property="IsSelected" Value="true">
                                <Setter TargetName="Border" Property="Background" Value="#389E804D" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="56" />
            <RowDefinition Height="207*" />
            <RowDefinition Height="334*" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="766*" />
            <ColumnDefinition Width="120" />
        </Grid.ColumnDefinitions>

        <TabControl Margin="12,0,3,0" Name="tcAudioPlayer"  Grid.Row="1" Grid.ColumnSpan="2" Grid.RowSpan="2" Tag="-1" SizeChanged="tcAudioPlayer_SizeChanged" >

            <TabItem Header="Editor" Name="tiEditor" GotFocus="tiEditor_GotFocus" >
                <TabItem.Resources>
                    <vmAudioPlayer:MultiBooleanToVisibilityConverter x:Key="MultiBooleanToVisibilityConverter1" />
                </TabItem.Resources>
                <Grid Background="{StaticResource Background1}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="178" MinWidth="178" />
                        <ColumnDefinition Width="323*" MinWidth="300" />
                        <ColumnDefinition Width="340*" MaxWidth="340" />
                        <ColumnDefinition Width="180*" MinWidth="180" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="40" />
                        <RowDefinition Height="421*" />
                    </Grid.RowDefinitions>

                    <GroupBox IsEnabled="True" Margin="0,1,0,0">
                        <StackPanel Margin="10,2,0,-2">
                            <RadioButton Content="Einzelne Playlist editieren" Height="16" Name="rbEditorEditPList" GroupName="KlangEdit" Checked="rbEditorEditPlaylist_Checked"  />
                            <RadioButton Content="Komplettes Theme" Height="18" Name="rbEditorEditTheme" GroupName="KlangEdit" Checked="rbEditorEditTheme_Checked" />
                        </StackPanel>
                    </GroupBox>
                    <Border Grid.Row="1" Margin="0,0,0,10" MinWidth="100">
                        <Grid Name="grdEditorList">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="330*" MinHeight="30" />
                            </Grid.RowDefinitions>

                            <Expander Name="exEditorTheme" HorizontalAlignment="Stretch" IsExpanded="True" ForceCursor="False" Margin="0,-1,7,10" VerticalAlignment="Top" VerticalContentAlignment="Top" Visibility="{Binding Path=IsChecked, ElementName=rbEditorEditTheme, Converter={StaticResource BooleanToVisibilityConverter1}}" >
                                <Expander.Header>
                                    <TextBlock Text="Themes" Style="{DynamicResource TextTitel}" />
                                </Expander.Header>
                                <Border Style="{DynamicResource ControlContentBorder}" ToolTip="Theme zum Editieren auswählen">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="30" />
                                            <RowDefinition Height="26" />
                                            <RowDefinition Height="297*" />
                                        </Grid.RowDefinitions>
                                        <Border>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                <Button Name="btnKlangNeuTheme" ToolTip="Neues Theme" Click="btnKlangNeuTheme_Click" Height="28" Width="22" >
                                                    <Image Source="/Images/Icons/General/add.png" Style="{StaticResource ImageEnabled}" />
                                                </Button>
                                                <Button  Name="btnKlangThemeImport" ToolTip="Theme importieren" Click="btnKlangThemeImport_Click" Height="28" Width="22" Margin="1,0,0,0" >
                                                    <Image Source="/Images/Icons/General/import.png" Style="{StaticResource ImageEnabled}" />
                                                </Button>
                                                <Button Name="btnThemeExportALL" ToolTip="Alle Themes exportieren" Click="btnThemeExportAll_Click" Height="28" Width="22" Margin="1,0,0,0" >
                                                    <Grid>
                                                        <Image Source="/Images/Icons/General/export.png" Style="{StaticResource ImageEnabled}" Margin="-2,-2,2,2" />
                                                        <Image Source="/Images/Icons/General/export.png" Style="{StaticResource ImageEnabled}" Margin="3,3,-3,-3" />
                                                    </Grid>
                                                </Button>
                                            </StackPanel>
                                        </Border>

                                        <Border HorizontalAlignment="Stretch" Grid.Row="1" Style="{DynamicResource ControlContentBorder}" VerticalAlignment="Stretch" ToolTip="Theme Filter" Name="brdKlangThemeFilter">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="26" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="20" />
                                                </Grid.ColumnDefinitions>
                                                <Image Source="/Images/Icons/General/filter.png" Stretch="Fill"/>
                                                <TextBox Margin="2,1" Name="tbEditorThemeFilter" Grid.Column="1" TextChanged="tbEditorThemeFilter_TextChanged" GotFocus="tbGotFocus" LostFocus="tbLostFocus" />
                                                <Button Grid.Column="2" Click="btnBGFilter_Click" ToolTip="Filter löschen" >
                                                    <Image Source="/Images/Icons/Wuerfel/w6_blank.png" Stretch="Fill" HorizontalAlignment="Stretch" Width="15" Height="25" />
                                                </Button>
                                            </Grid>
                                        </Border>

                                        <Border Grid.Row="2" HorizontalAlignment="Stretch" Margin="0,0,0,2" Style="{DynamicResource ControlContentBorder}" VerticalAlignment="Stretch">
                                            <ListBox Background="Transparent" Name="lbEditorTheme" SelectionChanged="lbEditorTheme_SelectionChanged" />
                                        </Border>
                                    </Grid>
                                </Border>
                            </Expander>

                            <GridSplitter Name="grdsplitEditorList" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" ResizeDirection="Rows" Height="5" Visibility="{Binding Path=IsChecked, ElementName=rbEditorEditTheme, Converter={StaticResource BooleanToVisibilityConverter1}}" />

                            <Expander HorizontalAlignment="Stretch" IsExpanded="True" ForceCursor="False" Grid.Row="1" Margin="0,-1,7,0" Name="exKlangPList" Expanded="exKlangPList_Expanded" Collapsed="exKlangPList_Collapsed" >
                                <Expander.Header>
                                    <TextBlock Text="Playlists" Style="{DynamicResource TextTitel}" />
                                </Expander.Header>
                                <Border Style="{DynamicResource ControlContentBorder}" >
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="30" />
                                            <RowDefinition Height="26" />
                                            <RowDefinition Height="500*" />
                                        </Grid.RowDefinitions>

                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="70" />
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Margin="10,0,0,0">
                                            <CheckBox Name="rbEditorKlang" Click="rbEditorKlang_Click" Content="Geräusche" IsChecked="True" VerticalAlignment="Top" Padding="2,0,0,0" ToolTip="Geräusch-Playlists anzeigen" />
                                            <CheckBox Name="rbEditorMusik" Click="rbEditorKlang_Click" Content="Musik" IsChecked="True" VerticalAlignment="Top" Padding="2,0,0,0" ToolTip="Musik-Playlists anzeigen" />
                                        </StackPanel>

                                        <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                                            <Button Name="btnNeuePlaylist" ToolTip="Neue Playlist" Click="btnNeuePlaylist_Click" Height="28" Width="22" Grid.Column="1" >
                                                <Image Source="/Images/Icons/General/add.png" Style="{StaticResource ImageEnabled}" />
                                            </Button>
                                            <Button Name="btnPlaylistImport" ToolTip="Playist importieren" Click="btnPlaylistImport_Click" Height="28" Width="22" Margin="1,0,0,0" >
                                                <Image Source="/Images/Icons/General/import.png" Style="{StaticResource ImageEnabled}" />
                                            </Button>
                                            <Button Name="btnPlaylistExportALL" ToolTip="Alle Playisten exportieren" Click="btnPlaylistExportAll_Click" Height="28" Width="22" Margin="1,0,0,0" >
                                                <Grid>
                                                    <Image Source="/Images/Icons/General/export.png" Style="{StaticResource ImageEnabled}" Margin="-2,-2,2,2" />
                                                    <Image Source="/Images/Icons/General/export.png" Style="{StaticResource ImageEnabled}" Margin="3,3,-3,-3" />
                                                </Grid>
                                            </Button>
                                        </StackPanel>

                                        <Border Grid.Row="1" Grid.ColumnSpan="2" HorizontalAlignment="Stretch" Style="{DynamicResource ControlContentBorder}" VerticalAlignment="Stretch" ToolTip="Playlist Filter">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="26" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="20" />
                                                </Grid.ColumnDefinitions>
                                                <Image Source="/Images/Icons/General/filter.png" Stretch="Fill"/>
                                                <TextBox Margin="2,1" Name="tbEditorPlaylistFilter" Grid.Column="1" TextChanged="tbEditorPlaylistFilter_TextChanged" GotFocus="tbGotFocus" LostFocus="tbLostFocus" />
                                                <Button Grid.Column="2" Click="btneditorFilter_Click" ToolTip="Filter löschen" >
                                                    <Image Source="/Images/Icons/Wuerfel/w6_blank.png" Stretch="Fill" HorizontalAlignment="Stretch" Width="15" Height="25" />
                                                </Button>
                                            </Grid>
                                        </Border>

                                        <Border Grid.Row="2" Grid.ColumnSpan="2" Margin="0,0,0,2" Style="{DynamicResource ControlContentBorder}"  >
                                            <ListBox Background="Transparent" Name="lbEditor" VerticalAlignment="Stretch" SelectionChanged="lbEditor_SelectionChanged" />
                                            <!--<ListBox SelectedValue="{Binding AktKlangPlaylist}" ItemsSource="{Binding PlaylistListe}" ItemTemplate="{StaticResource PlaylistItem}" Background="Transparent" Name="lbEditor" VerticalAlignment="Stretch" SelectionChanged="lbEditor_SelectionChanged" />-->
                                        </Border>
                                    </Grid>
                                </Border>
                            </Expander>
                        </Grid>
                    </Border>
                    <GridSplitter Grid.Row="1" HorizontalAlignment="Right" VerticalAlignment="Stretch" Width="5" />

                    <Border Name="brdKlang" Height="40" HorizontalAlignment="Stretch" Grid.Column="1" VerticalAlignment="Top" Style="{DynamicResource ControlContentBorder}" >
                        <Grid Name="grdEditorPlaylistInfo">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="85" />
                                <ColumnDefinition Width="200*" MinWidth="200" />
                                <ColumnDefinition Width="20" />
                            </Grid.ColumnDefinitions>

                            <Label Name="lblEditorListName" Content="Playlist-Name" VerticalContentAlignment="Center" />
                            <TextBox HorizontalAlignment="Stretch" Name="tboxEditorName" Text="NeuePlaylist" FontWeight="Bold" ToolTip="Text abändern und ENTER-Taste drücken um den Theme umzubenennen" Height="25" Grid.Column="1" Background="{x:Null}" LostFocus="tboxEditorName_LostFocus" ForceCursor="True" KeyUp="tboxEditorName_KeyUp" GotFocus="tbGotFocus">
                                <!--<TextBox.InputBindings>
                                    <KeyBinding Command="{Binding OnBla}" Key="Return" />
                                    <MouseBinding MouseAction="LeftClick"  />
                                </TextBox.InputBindings>-->
                            </TextBox>
                            <Image Name="imgPlaylistLängeCheck" Width="22" Grid.Column="2" Source="/Images/Icons/General/refresh.png" Visibility="Hidden" />

                        </Grid>
                    </Border>

                    <Border Grid.Column="2" Style="{DynamicResource ControlContentBorder}" HorizontalAlignment="Left" Visibility="{Binding Path=IsChecked, ElementName=rbEditorEditPList, Converter={StaticResource BooleanToVisibilityConverter1}}" Margin="5,0,-10,0" >
                        <!--<Border.Visibility>
                            <MultiBinding Converter="{StaticResource MultiBooleanToVisibilityConverter1}" >
                                <Binding ElementName="rbEditorEditPList" Path="IsChecked" />
                                <Binding ElementName="rbIstTopKlangPlaylist1" Path="IsChecked" />
                            </MultiBinding>
                        </Border.Visibility>-->
                        <!--Visibility="{Binding Path=IsChecked, ElementName=rbIstTopKlangPlaylist1, Converter={StaticResource BooleanToVisibilityConverter1}}" >-->
                        <Grid Name="grdEditorRow" VerticalAlignment="Center" Margin="0,2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="25" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="22" />
                                <ColumnDefinition Width="22"/>
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <Image Source="/DSA%20MeisterGeister;component/Images/Icons/kalender.png" Width="25"  />
                            <ToggleButton Name="tbtnPlaylistWartezeit" VerticalAlignment="Center" HorizontalAlignment="Left" Grid.Column="1" Width="18" Height="18" ToolTip="Verzögerungszeit vor dem Abspielen der Playliste" Click="tbtnPlaylistWartezeit_Click" >
                                <Image Source="/Images/Icons/General/OK.png" VerticalAlignment="Center" Visibility="{Binding Path=IsChecked, ElementName=tbtnPlaylistWartezeit, Converter={StaticResource BooleanToVisibilityConverter1}}" />
                            </ToggleButton>

                            <StackPanel Grid.Column="2" Visibility="{Binding Path=IsChecked, ElementName=tbtnPlaylistWartezeit, Converter={StaticResource BooleanToVisibilityConverter1}}" >
                                <Grid Margin="0,0,5,0" >
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="18*"/>
                                        <RowDefinition Height="7*"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="92" />
                                        <ColumnDefinition Width="25" />
                                        <ColumnDefinition Width="80" />
                                        <ColumnDefinition Width="80" />
                                    </Grid.ColumnDefinitions>

                                    <Slider Name="sldPlaylistWartezeit" Value="4000" Maximum="900000" ToolTip="4 sek." IsSnapToTickEnabled="True" TickPlacement="BottomRight" ValueChanged="sldPlaylistWartezeit_ValueChanged"
                                        Foreground="DarkSlateGray" VerticalContentAlignment="Stretch" HorizontalContentAlignment="Stretch" Padding="1" Orientation="Horizontal" HorizontalAlignment="Stretch" VerticalAlignment="Center" Margin="6,3,4,0" 
                                        Ticks="0, 100, 200, 400, 600, 800, 1000, 1200, 1400, 1600, 1800, 2000, 3000, 4000, 5000, 7500, 8000, 9000, 10000, 15000, 20000, 25000, 30000, 40000, 50000, 60000, 90000, 120000, 180000, 240000, 300000, 450000, 600000, 900000" Grid.RowSpan="2" />

                                    <CheckBox Name="chkPlaylistWartezeitMove" Grid.Column="1" Tag="0" IsChecked="True" IsTabStop="False" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,6,1,6" ToolTip="Wartezeit der Playliste automatisch variieren" Grid.RowSpan="2" Click="chkPlaylistWartezeitMove_Click" />
                                    <TextBox Name="tboxPlaylistWartezeitMin" Grid.Column="2" Margin="0.2,2,0,2.2" Text="{Binding AktKlangPlaylist.WarteZeitMin}" HorizontalContentAlignment="Center" Tag="0" Padding="0" ToolTip="{Binding AktKlangPlaylist.WarteZeitToolTip}" Grid.RowSpan="2" TextChanged="tboxPlaylistWartezeitMin_TextChanged" HorizontalAlignment="Left" Width="44"/>
                                    <Button Name="_btnPlaylistWartezeitMinMinus" Grid.Column="2" Margin="0,3,18,4" Tag="-200" Width="18" Height="18" HorizontalAlignment="Right" IsTabStop="False" Grid.RowSpan="2" Click="_btnPlaylistWartezeitMinMinus_Click" >
                                        <Image Source="/Images/Icons/General/entf_02.png" />
                                    </Button>
                                    <Button Name="_btnPlaylistWartezeitMinPlus" Grid.Column="2" Tag="200" Width="18" Height="18" HorizontalAlignment="Right" IsTabStop="False" Margin="0,3,0,4" Grid.RowSpan="2" Click="_btnPlaylistWartezeitMinPlus_Click" >
                                        <Image Source="/Images/Icons/General/add.png" />
                                    </Button>
                                    <TextBox Name="tboxPlaylistWartezeitMax"  Grid.Column="3" Margin="0,2,36,2" HorizontalContentAlignment="Center" Tag="0" Text="10000" Padding="0" ToolTip="Maximale Wartezeit bei variabeler Pausenzeit (in ms)" Grid.RowSpan="2" TextChanged="tboxPlaylistWartezeitMin_TextChanged" />
                                    <Button Name="_btnPlaylistWartezeitMaxMinus" Width="18" Height="18" Grid.Column="3" HorizontalAlignment="Right" Margin="0,3,18,4" Tag="-200" IsTabStop="False" Grid.RowSpan="2" Click="_btnPlaylistWartezeitMaxMinus_Click" >
                                        <Image Source="/Images/Icons/General/entf_02.png" />
                                    </Button>
                                    <Button Name="_btnPlaylistWartezeitMaxPlus" Width="18" Height="18" Grid.Column="3" HorizontalAlignment="Right" Tag="200" IsTabStop="False" Margin="0,3,0,4" Grid.RowSpan="2" Click="_btnPlaylistWartezeitMaxPlus_Click" >
                                        <Image Source="/Images/Icons/General/add.png" />
                                    </Button>
                                </Grid>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <Border Name="brgEditorThemeKategorieBackground" Grid.Column="2" HorizontalAlignment="Stretch" Margin="0,0,60,0" Style="{DynamicResource ControlContentBorder}" Visibility="{Binding Path=IsChecked, ElementName=rbEditorEditTheme, Converter={StaticResource BooleanToVisibilityConverter1}}" >
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="60" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Label Content="Kategorie" VerticalAlignment="Center" />
                            <Border Name="brdThemeKategorie" Grid.Column="1" Height="25" Margin="10,0" CornerRadius="5" ToolTip="Kategorie" >
                                <Border.Background>
                                    <LinearGradientBrush EndPoint="1,0.5" Opacity="0.6" StartPoint="0,0.5">
                                        <GradientStop Color="Beige" Offset="0" />
                                        <GradientStop Color="#FFFFFFC7" Offset="1" />
                                    </LinearGradientBrush>
                                </Border.Background>
                                <TextBox Name="tboxThemeKategorie" Padding="2,0" FontSize="12" FontStyle="Italic" TextWrapping="WrapWithOverflow" Background="{x:Null}" ToolTip="Kategorie des Themes" HorizontalAlignment="Stretch" VerticalContentAlignment="Center" LostFocus="tboxThemeKategorie_LostFocus" GotFocus="tbGotFocus" />
                            </Border>
                        </Grid>
                    </Border>

                    <Border Style="{DynamicResource ControlContentBorder}" Margin="3,0,6,-12" HorizontalAlignment="Right" Grid.Column="3" >
                        <StackPanel Orientation="Horizontal"  >
                            <GroupBox Header="Import/Export" Margin="5,-2,2,2" >
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="2,2,2,1">
                                    <Button Name="btnAudioDatenImport" ToolTip="Komplette Audio-Daten importieren (Themes und Playlisten)" Click="btnAudioDatenImport_Click" Height="25" Width="25" Margin="5,0,0,0" VerticalAlignment="Top">
                                        <Grid Height="25" Width="22">
                                            <Image Source="/Images/Icons/General/import.png" Style="{StaticResource ImageEnabled}" Margin="-2,-2,2,2" />
                                            <Image Source="/Images/Icons/General/import.png" Style="{StaticResource ImageEnabled}" Margin="3,3,-3,-3" />
                                        </Grid>
                                    </Button>
                                    <Button Name="btnAudioDatenExport" ToolTip="Komplette Audio-Daten exportieren (Themes und Playlisten)" Click="btnAudioDatenExport_Click" Height="25" Width="25" Margin="5,0,0,0" Grid.Column="1" VerticalAlignment="Top">
                                        <Grid Height="25" Width="22">
                                            <Image Source="/Images/Icons/General/export.png" Style="{StaticResource ImageEnabled}" Margin="-2,-2,2,2" />
                                            <Image Source="/Images/Icons/General/export.png" Style="{StaticResource ImageEnabled}" Margin="3,3,-3,-3" />
                                        </Grid>
                                    </Button>
                                </StackPanel>
                            </GroupBox>
                            <Button Name="btnAudioDatenDelete" VerticalAlignment="Center" Height="25" ToolTip="Alle Audio-Daten löschen" Click="btnAudioDatenDelete_Click"  Margin="5,7,5,0">
                                <Image Source="/Images/Icons/General/entf_all.png" Style="{StaticResource ImageEnabled}" />
                            </Button>
                        </StackPanel>
                    </Border>

                    <Grid Name="grdEditorMain" Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="3">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="410*" />
                        </Grid.RowDefinitions>
                        <Border Margin="0,10,0,0" Drop="brdEditorTheme_Drop" >

                            <StackPanel Orientation="Vertical" Visibility="{Binding Path=IsChecked, ElementName=rbEditorEditTheme, Converter={StaticResource BooleanToVisibilityConverter1}}" >
                                <Expander Name="expEditorThemesMusik" IsExpanded="True" ForceCursor="False" HorizontalAlignment="Left" HorizontalContentAlignment="Left" >
                                    <Expander.Header>
                                        <TextBlock Text="Musik Playliste        " Style="{DynamicResource TextTitel}" />
                                    </Expander.Header>
                                    <Border Name="brdEditorThemesMusik" Style="{DynamicResource ControlContentBorder}" VerticalAlignment="Top">
                                        <ScrollViewer Margin="0,0,0,6" VerticalScrollBarVisibility="Auto">
                                            <WrapPanel Name="wpnlEditorThemeMusik" ItemHeight="60" ItemWidth="200" MinHeight="60" MinWidth="200" />
                                        </ScrollViewer>
                                    </Border>
                                </Expander>

                                <Expander Name="expEditorThemesGeräusch" IsExpanded="True" ForceCursor="False" HorizontalAlignment="Left" HorizontalContentAlignment="Left" >
                                    <Expander.Header>
                                        <TextBlock Text="Geräusche Playliste(n)      " Style="{DynamicResource TextTitel}" />
                                    </Expander.Header>
                                    <Border Name="brdEditorThemesGeräusch" Style="{DynamicResource ControlContentBorder}" VerticalAlignment="Top">
                                        <ScrollViewer Margin="0,0,0,6" VerticalScrollBarVisibility="Auto">
                                            <WrapPanel Name="wpnlEditorThemeGeräusch" ItemHeight="60" ItemWidth="200" MinHeight="60" MinWidth="200" />
                                        </ScrollViewer>
                                    </Border>
                                </Expander>

                                <Expander Name="expEditorTopThemeTheme" IsExpanded="True" ForceCursor="False" HorizontalAlignment="Left" HorizontalContentAlignment="Left" >
                                    <Expander.Header>
                                        <TextBlock Text="Untergeordnete Themes    " Style="{DynamicResource TextTitel}" />
                                    </Expander.Header>
                                    <Border Style="{DynamicResource ControlContentBorder}" VerticalAlignment="Top">
                                        <StackPanel Orientation="Horizontal">
                                            <Grid Name="grdEditorThemeWPnlUTheme">
                                                <Button Name="btnTopThemeAddTheme" Grid.Column="3" Margin="5" Click="btnTopThemeAddTheme_Click" ToolTip="Untergeordnetes Theme hinzufügen" Width="30" HorizontalAlignment="Left">
                                                    <Grid Width="35" Height="25">
                                                        <Image Source="/DSA%20MeisterGeister;component/Images/Icons/General/copy.png" />
                                                        <Image Source="/DSA%20MeisterGeister;component/Images/Icons/General/add.png" Width="20" Height="20" Margin="-20,-3,0,0" />
                                                    </Grid>
                                                </Button>
                                            </Grid>
                                            <ScrollViewer Margin="0,0,0,6" VerticalScrollBarVisibility="Auto">
                                                <WrapPanel Name="wpnlEditorTopThemesThemes" ItemHeight="50" ItemWidth="150" AllowDrop="True" ToolTip="Von untergeordeten Themes werden nur die noch nicht ausgewählten Geräusch-Playlists wiedergegeben" />
                                            </ScrollViewer>
                                        </StackPanel>
                                    </Border>
                                </Expander>
                            </StackPanel>
                        </Border>

                        <Border Name="brdEditorListe" Margin="3,8,6,9" Grid.Row="2" Style="{DynamicResource ControlContentBorder}">
                            <Grid Name="grdEditorListe" >
                                <Grid Name="grdEditor1" >
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="77" />
                                        <RowDefinition Height="*" />
                                    </Grid.RowDefinitions>

                                    <Grid Name="grdEditorTop1" >
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="30" />
                                            <RowDefinition Height="23" />
                                            <RowDefinition Height="23" />
                                            <RowDefinition Height="354*" />
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="1" />
                                            <ColumnDefinition Width="17" />
                                            <ColumnDefinition Width="18"/>
                                            <ColumnDefinition Width="350"/>
                                            <ColumnDefinition Width="50" />
                                            <ColumnDefinition Width="23" />
                                            <ColumnDefinition Width="92" />
                                            <ColumnDefinition Width="56" />
                                            <ColumnDefinition Width="80" />
                                            <ColumnDefinition Width="80" />
                                            <ColumnDefinition Width="110*" />
                                        </Grid.ColumnDefinitions>

                                        <Border Name="brdTopKlangKategorie1" Height="25" Margin="84,4,0,0" Width="195" Grid.Column="3" CornerRadius="5" HorizontalAlignment="Left" ToolTip="Kategorie" VerticalAlignment="Top">
                                            <Border.Background>
                                                <LinearGradientBrush EndPoint="1,0.5" Opacity="0.6" StartPoint="0,0.5">
                                                    <GradientStop Color="Beige" Offset="0" />
                                                    <GradientStop Color="#FFFFFFC7" Offset="1" />
                                                </LinearGradientBrush>
                                            </Border.Background>
                                            <TextBox Name="tboxTopKlangKategorie1" Padding="2,0" FontSize="12" FontStyle="Italic" TextWrapping="WrapWithOverflow" Background="{x:Null}" ToolTip="Kategorie der Playlist" VerticalContentAlignment="Center" LostFocus="tboxTopKategorieX_LostFocus" GotFocus="tbGotFocus" />
                                        </Border>

                                        <ToggleButton Height="24" Name="btnEditShuffle" Grid.Column="6" Margin="-320,2,0,0" Width="24" ClickMode="Press" Click="btnShuffle_Click" IsChecked="True" ToolTip="Shuffle-Mode" Focusable="False" IsTabStop="False" Visibility="{Binding Path=IsChecked, ElementName=rbIstTopMusikPlaylist1, Converter={StaticResource BooleanToVisibilityConverter1}}" >
                                            <Image Name="btnEditShuffleImg" Source="/DSA%20MeisterGeister;component/Images/Icons/General/shuffle.png" Style="{StaticResource ImageEnabled}" />
                                        </ToggleButton>

                                        <ToggleButton Name="btnEditRepeat" Height="24" Grid.Column="6" Margin="-260,2,0,0" Width="30" Click="btnEditRepeat_Click" ClickMode="Press" IsChecked="True" ToolTip="Wiederholen" Focusable="False" IsTabStop="False" Visibility="{Binding Path=IsChecked, ElementName=rbIstTopMusikPlaylist1, Converter={StaticResource BooleanToVisibilityConverter1}}" IsThreeState="True" >
                                            <Image Source="/DSA%20MeisterGeister;component/Images/Icons/General/repeat.png" />
                                        </ToggleButton>

                                        <!--<ViewGeneral:DoubleBox Grid.Column="6" Height="23" Margin="5" Width="75" MinValue="0" ShowButtons="True" Value="{Binding Anzahl}" VerticalAlignment="Center" />-->

                                        <GroupBox Name="gboxTopSongsParallel1" Header="Songs parallel" Grid.Column="3" Grid.RowSpan="2" Height="50" HorizontalAlignment="Right" Margin="0,0,10,0" VerticalAlignment="Top" Width="100" Grid.ColumnSpan="2" Visibility="{Binding Path=IsChecked, ElementName=rbIstTopKlangPlaylist1, Converter={StaticResource BooleanToVisibilityConverter1}}" >
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                                <TextBox Name="tboxTopklangsongparallel1" Text="1" VerticalAlignment="Center" Width="30" HorizontalAlignment="Left" TextChanged="tboxklangsongparallelX_TextChanged" IsEnabled="True" GotFocus="tbGotFocus" LostFocus="tbLostFocus" />
                                                <Button Name="btnTopSongParMinus1" Width="18" Height="18" Click="btnSongParPlusX_Click" Tag="-1" IsTabStop="False" >
                                                    <Image Source="/Images/Icons/General/entf_02.png" />
                                                </Button>
                                                <Button Name="btnTopSongParPlus1" Tag="1" Width="18" Height="18" Click="btnSongParPlusX_Click" IsTabStop="False">
                                                    <Image Source="/Images/Icons/General/add.png" />
                                                </Button>
                                            </StackPanel>
                                        </GroupBox>

                                        <CheckBox Name="rbEditorFading" Click="rbEditorFading_Click" Grid.Column="3" Grid.Row="2" Margin="0,0,5,0" HorizontalAlignment="Right" Content="Fading" IsChecked="True" ToolTip="Fading der Playliste" VerticalAlignment="Center" Visibility="{Binding Path=IsChecked, ElementName=rbIstTopKlangPlaylist1, Converter={StaticResource BooleanToVisibilityConverter1}}" />

                                        <GroupBox Visibility="Collapsed" Name="gboxTopMusikSort1" Header="Musik sortieren" Grid.Column="3" Grid.RowSpan="2" Height="50" HorizontalAlignment="Right" Margin="0,0,10,0" VerticalAlignment="Top" Width="100" Grid.ColumnSpan="2">
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                                <ToggleButton Name="btnTopMusikAbisZ1" Width="25" Height="25" IsTabStop="False" Margin="1" >
                                                    <ToggleButton.BindingGroup>
                                                        <BindingGroup/>
                                                    </ToggleButton.BindingGroup>
                                                    <Image Source="/Images/Icons/General/sort.png" />
                                                </ToggleButton>
                                                <ToggleButton Name="btnTopMusik1bis91" Width="25" Height="25" IsTabStop="False" Margin="1" >
                                                    <Image Source="/Images/Icons/General/sort1.png" />
                                                </ToggleButton>
                                            </StackPanel>
                                        </GroupBox>

                                        <StackPanel Name="spnlTopHotkey1" Orientation="Horizontal" Grid.Column="5" Grid.ColumnSpan="3" Margin="0,1,20,1" Visibility="Collapsed" >
                                            <Label Content="Hotkey" />
                                            <Button Content="nicht definiert" Width="80" Margin="0,2" FontStyle="Italic" Name="btnTopHotkeySet1" Click="btnTopHotkeySet_Click" />
                                            <ComboBox Name="cmboxTopHotkey1" Grid.Column="4" Grid.ColumnSpan="4" Width="80" Visibility="Collapsed" KeyDown="cmboxTopHotkey_KeyDown" DropDownOpened="cmboxTopHotkey_DropDownOpened" DropDownClosed="cmboxTopHotkey_DropDownClosed" SelectionChanged="cmboxTopHotkey_SelectionChanged" />
                                            <Button Name="btnHotkeyEntfernen1" ToolTip="Hotkey entfernen" Click="btnHotkeyEntfernenX_Click" Margin="0,5" Visibility="Collapsed" >
                                                <Image Source="/Images/Icons/General/entf_01.png" Style="{StaticResource ImageEnabled}" />
                                            </Button>
                                        </StackPanel>

                                        <GroupBox Name="gboxTopTyp1" Header="Playlist-Typ" Grid.Column="1" Grid.ColumnSpan="3" Grid.RowSpan="3" Height="58" HorizontalAlignment="Left" Margin="5,0,0,0" VerticalAlignment="Top" Width="100" >
                                            <StackPanel>
                                                <RadioButton Name="rbIstTopMusikPlaylist1" Content="Musik" Click="rbTopIstMusikPlaylist_Click" GroupName="TypListe" IsChecked="False" VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="80" Grid.Column="4" Padding="4,0,0,0" Margin="1,1,1,0" ToolTip="Auswahl als Musik-Playlist" />
                                                <RadioButton Name="rbIstTopKlangPlaylist1" Content="Geräusche" Click="rbTopIstKlangPlaylist_Click" GroupName="TypListe" IsChecked="True" VerticalAlignment="Top" Grid.Column="4" Width="80" HorizontalAlignment="Left" Margin="1,4,1,1" ToolTip="Auswahl als Geräusche-Playlist" />
                                            </StackPanel>
                                        </GroupBox>

                                        <Border Grid.Row="1" Grid.RowSpan="2" Grid.Column="3" Style="{DynamicResource ControlContentBorder}" Margin="85,2,0,0" Width="160" Height="26" Name="brdTopFilter1" ToolTip="Zeilen Filter" HorizontalAlignment="Left" VerticalAlignment="Top">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="26" />
                                                    <ColumnDefinition Width="110" />
                                                    <ColumnDefinition Width="20" />
                                                    <ColumnDefinition Width="2*" />
                                                </Grid.ColumnDefinitions>
                                                <Image Source="/Images/Icons/General/filter.png" Stretch="Fill"/>
                                                <TextBox Margin="2,1" Name="tbEditorTopFilter1" Grid.Column="1" TextChanged="tbEditorTopFilterX_TextChanged" GotFocus="tbGotFocus" LostFocus="tbLostFocus" />
                                                <Button Grid.Column="2" Click="btnBGFilter_Click" Name="btnKlangTopFilter1" ToolTip="Filter löschen" >
                                                    <Image Source="/Images/Icons/Wuerfel/w6_blank.png" Stretch="Fill" HorizontalAlignment="Left" Width="15" Height="24" />
                                                </Button>
                                            </Grid>
                                        </Border>

                                        <ToggleButton Name="tbtnKlangPause1" Tag="true" Grid.Column="3" Margin="252,5,0,0" Width="30" Height="30" Checked="tbtnKlangPauseX_Checked" Unchecked="tbtnKlangPauseX_Unchecked" HorizontalAlignment="Left" Grid.RowSpan="2" ToolTip="Playlist abspielen/pausieren" VerticalAlignment="Top" Background="#00000000" Grid.Row="1">
                                            <Image Width="20" Height="20" Source="/DSA%20MeisterGeister;component/Images/Icons/General/play.png" />
                                        </ToggleButton>
                                        <CheckBox Name="chkbxTopAktiv1" Grid.Column="3" Grid.Row="2" Height="16" HorizontalAlignment="Left" VerticalAlignment="Bottom" ToolTip="Alle Titel an-/abwählen" Click="chkbxTopAktivX_Click" Tag="0" IsTabStop="False" Content="Titel an/aus" />
                                        <Label Name="lblTopDauer1" Content="Dauer" Grid.Column="4" Margin="10,3,0,4" Padding="0" VerticalAlignment="Center" Grid.Row="2" />

                                        <StackPanel Name="spnlTopGeräuschIcon1" Grid.Column="5" Grid.ColumnSpan="5" Grid.Row="1" Grid.RowSpan="2" VerticalAlignment="Bottom" Visibility="{Binding Path=IsChecked, ElementName=rbIstTopKlangPlaylist1, Converter={StaticResource BooleanToVisibilityConverter1}}" >
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="23" />
                                                    <RowDefinition Height="23" />
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="23" />
                                                    <ColumnDefinition Width="92" />
                                                    <ColumnDefinition Width="56" />
                                                    <ColumnDefinition Width="80" />
                                                    <ColumnDefinition Width="80" />
                                                </Grid.ColumnDefinitions>
                                                <Image Name="imgLaufstärke1" Source="/DSA%20MeisterGeister;component/Images/Icons/audio2.png" ToolTip="Lautstärke aller aktiven Songs" />
                                                <Button Name="btnTopVolMin1" Content="&lt;&lt;" Grid.Column="1" Height="21" Margin="0,-1,0,3" VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="21" ToolTip="Lautstärke aller aktiven Klänge auf 0% setzen" Tag="-100" Click="btnAllVolUp_Click" IsTabStop="False" />
                                                <Button Name="btnTopVolDown1" Content="&lt;" Grid.Column="1" Height="21" HorizontalAlignment="Left" Margin="23,0,0,1" VerticalAlignment="Bottom" Width="21" ToolTip="Lautstärke aller aktiven Klänge um 10% verringern" Tag="-10" Click="btnAllVolUp_Click" IsTabStop="False" />
                                                <Button Name="btnTopVolUp1" Content="&gt;" Grid.Column="1"  Height="21" HorizontalAlignment="Right" Margin="0,0,22,1" VerticalAlignment="Bottom" Width="21" ToolTip="Lautstärke aller aktiven Klänge um 10% erhöhen" Click="btnAllVolUp_Click" Tag="10" IsTabStop="False"  />
                                                <Button Name="btnTopVolMax1" Content="&gt;&gt;" Grid.Column="1" Height="21" Margin="0,0,0,1" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="21" ToolTip="Lautstärke aller aktiven Klänge auf 100% setzen" Tag="100" Click="btnAllVolUp_Click" IsTabStop="False" />

                                                <CheckBox Name="chkbxTopVolChange1" Grid.Column="2" ToolTip="Lautstärke aller aktiven Klänge automatisch variieren" Click="chkbxTopVolChangeX_Click" Tag="0" IsTabStop="False" HorizontalAlignment="Right" VerticalAlignment="Center" Content="Auto" FlowDirection="RightToLeft" Height="Auto" Margin="0,4" />
                                                <Label Content="min" Grid.Column="3" HorizontalAlignment="Center" Margin="25,0" />
                                                <Button Name="btnTopVolMinMinus1" Height="21" Margin="7,0,0,1" VerticalAlignment="Bottom" Grid.Column="3" HorizontalAlignment="Left" Width="21" ToolTip="Minimale Lautstärke aller variierbaren Klänge verringern" Click="btnTopVolMinMinusX_Click" IsTabStop="False" >
                                                    <Image Source="/Images/Icons/General/entf_02.png" />
                                                </Button>
                                                <Button Name="btnTopVolMinPlus1" Height="20" HorizontalAlignment="Right" Margin="0,0,7,1" VerticalAlignment="Bottom" Width="20" Grid.Column="3" ToolTip="Minimale Lautstärke aller variierbaren Klänge erhöhen" Click="btnTopVolMinPlusX_Click" IsTabStop="False" >
                                                    <Image Source="/Images/Icons/General/add.png" />
                                                </Button>
                                                <Label Content="max" Grid.Column="4" HorizontalAlignment="Center" Margin="24,0" />
                                                <Button Name="btnTopVolMaxMinus1" Grid.Column="4" Height="20" Margin="7,0,0,1" VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="20" ToolTip="Maximale Lautstärke aller variierbaren Klänge verringern" Click="btnTopVolMaxMinusX_Click" IsTabStop="False" >
                                                    <Image Source="/Images/Icons/General/entf_02.png" />
                                                </Button>
                                                <Button Name="btnTopVolMaxPlus1" Grid.Column="4" Height="20" HorizontalAlignment="Right" Margin="0,0,7,1" VerticalAlignment="Bottom" Width="20" ToolTip="Maximale Lautstärke aller variierbaren Klänge erhöhen" Click="btnTopVolMaxPlusX_Click" IsTabStop="False" >
                                                    <Image Source="/Images/Icons/General/add.png" />
                                                </Button>

                                                <Border VerticalAlignment="Bottom" Grid.ColumnSpan="7" BorderBrush="Gray" Margin="-5,-1,-5,-1" Height="1" BorderThickness="1" Name="brdTrennstrich1" />

                                                <Image Name="imgPause1" Source="/DSA%20MeisterGeister;component/Images/Icons/kalender.png" Grid.Row="1" ToolTip="Pausenzeit aller aktiven Songs" />
                                                <Button Name="btnTopPauseMin1" Content="&lt;&lt;" Grid.Column="1" Grid.Row="1" Height="21" Margin="0,0,0,1" VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="21" ToolTip="Pausenzeit aller aktiven Klänge auf Minimum setzen" Click="btnAllPauseUp_Click" Tag="-2" IsTabStop="False" />
                                                <Button Name="btnTopPauseDown1" Content="&lt;" Grid.Column="1" Grid.Row="1" Height="21" HorizontalAlignment="Left" Margin="23,0,0,1" VerticalAlignment="Bottom" Width="21" ToolTip="Pausenzeit aller aktiven Klänge verringern" Click="btnAllPauseUp_Click" Tag="-1" IsTabStop="False" />
                                                <Button Name="btnTopPauseMax1" Content="&gt;&gt;" Grid.Column="1" Grid.Row="1" Height="21" Margin="0,0,0,1" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="21" ToolTip="Pausenzeit aller aktiven Klänge auf Maximum setzen" Tag="2" Click="btnAllPauseUp_Click" IsTabStop="False" />
                                                <Button Name="btnTopPauseUp1" Content="&gt;" Grid.Column="1" Grid.Row="1" Height="21" HorizontalAlignment="Right" Margin="0,0,22,1" VerticalAlignment="Bottom" Width="22" ToolTip="Pausenzeit aller aktiven Klänge erhöhen" Click="btnAllPauseUp_Click" Tag="1" IsTabStop="False" />

                                                <CheckBox Name="chkbxTopPauseChange1" VerticalAlignment="Center" Grid.Column="2" Grid.Row="1" HorizontalAlignment="Right" ToolTip="Pausenzeit aller aktiven Klänge automatisch variieren" Click="chkbxTopPauseChangeX_Click" Tag="0" IsTabStop="False" Content="Auto" FlowDirection="RightToLeft" />
                                                <Label Content="min" Grid.Column="3" Grid.Row="1"  HorizontalAlignment="Center" />
                                                <Button Name="btnTopPauseMinMinus1" Height="20" Margin="7,0,0,1" VerticalAlignment="Bottom" Grid.Column="3" Grid.Row="1" HorizontalAlignment="left" Width="20" ToolTip="Minimale Pausenzeit aller variierbaren Klänge um eine Stelle verringern" Click="btnTopPauseMinMinusX_Click" IsTabStop="False" >
                                                    <Image Source="/Images/Icons/General/entf_02.png" />
                                                </Button>
                                                <Button Name="btnTopPauseMinPlus1" Height="20" HorizontalAlignment="Right" Margin="0,0,7,1" VerticalAlignment="Bottom" Width="20" Grid.Column="3" Grid.Row="1" ToolTip="Minimale Pausenzeit aller variierbaren Klänge um eine Stelle erhöhen" Click="btnTopPauseMinPlusX_Click" IsTabStop="False" >
                                                    <Image Source="/Images/Icons/General/add.png" />
                                                </Button>

                                                <Label Content="max" Grid.Column="4" Grid.Row="1"  HorizontalAlignment="Center" />
                                                <Button Name="btnTopPauseMaxMinus1" Grid.Column="4" Grid.Row="1" Height="20" Margin="7,0,0,1" VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="20" ToolTip="Maximale Pausenzeit aller variierbaren Klänge eine Stelle verringern" Click="btnTopPauseMaxMinusX_Click" IsTabStop="False" >
                                                    <Image Source="/Images/Icons/General/entf_02.png" />
                                                </Button>
                                                <Button Name="btnTopPauseMaxPlus1" Grid.Column="4" Grid.Row="1" Height="20" HorizontalAlignment="Right" VerticalAlignment="Bottom" Width="20" Margin="0,0,7,1" ToolTip="Maximale Pausenzeit aller variierbaren Klänge eine Stelle erhöhen" Click="btnTopPauseMaxPlusX_Click" IsTabStop="False" >
                                                    <Image Source="/Images/Icons/General/add.png" />
                                                </Button>
                                            </Grid>
                                        </StackPanel>

                                        <Button Height="30" HorizontalAlignment="Right" Name="btnTopKlangOpen1" Click="btnTopKlangOpen_Click" Width="30" ToolTip="Hinzufügen von Musikdateien in die ausgewählte Liste" Grid.Column="9" VerticalAlignment="Center" Margin="0,0,5,0" TabIndex="1" >
                                            <Image Source="/DSA%20MeisterGeister;component/Images/Icons/General/audioadd.png" />
                                        </Button>

                                        <Button Name="btnKlangUpdateFiles1" Width="30" Height="30" ToolTip="Update der Titel im Verzeichnis" Grid.Column="9" HorizontalAlignment="Left" ToolTipService.ShowDuration="10000" Visibility="Hidden" Click="btnKlangUpdateFiles_Click" >
                                            <Grid>
                                                <Image Source="/DSA%20MeisterGeister;component/Images/Icons/General/oeffnen.png" Width="35" Height="35" Margin="0,-3,0,0" />
                                                <Image Source="/DSA%20MeisterGeister;component/Images/Icons/General/refresh.png" Width="20" />
                                            </Grid>
                                        </Button>
                                        <Border Grid.Row="3" VerticalAlignment="Bottom" Grid.ColumnSpan="11" BorderBrush="DarkSlateGray" Margin="0,0,0,337" Height="1" BorderThickness="1" />
                                    </Grid>

                                    <ListBox Background="Transparent" Name="lbEditorListe" Grid.Row="1" SelectionChanged="lbEditor_SelectionChanged" Drop="lbEditor_Drop" AllowDrop="True" ToolTip="Musikdateien über Drag&amp;Drop einfügen &#10;MusikZeilen mit gedrückter Strg-Taste kopieren" />
                                </Grid>
                            </Grid>
                        </Border>
                    </Grid>
                </Grid>
            </TabItem>

            <TabItem Header="Musik - Player" Name="tiMusik" Loaded="tiMusik_Loaded" GotFocus="tiMusik_GotFocus" >
                <Grid Background="{StaticResource Background1}">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="60" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <Border Height="55" Name="border1" VerticalAlignment="Top" Style="{DynamicResource ControlContentBorder}">
                        <Grid>
                            <Border BorderBrush="Silver" BorderThickness="1" Height="45" Name="border3" Width="402" CornerRadius="20" />
                            <ToggleButton Name="btnBGShuffle" Height="24" Margin="-320,0,0,0" Width="24" ClickMode="Press" Click="btnShuffle_Click" IsChecked="True" ToolTip="Shuffle-Mode" Focusable="False" IsTabStop="False" >
                                <Image Name="btnShuffleImg" Source="/DSA%20MeisterGeister;component/Images/Icons/General/shuffle.png" Style="{StaticResource ImageEnabled}" />
                            </ToggleButton>

                            <ToggleButton Name="btnBGRepeat" Height="24" Margin="-260,0,0,0" Width="30" Click="btnBGRepeat_Click" ClickMode="Press" IsChecked="True" ToolTip="Wiederholen" Focusable="False" IsTabStop="False" IsThreeState="True" >
                                <Image Source="/DSA%20MeisterGeister;component/Images/Icons/General/repeat.png" />
                            </ToggleButton>

                            <Border Width="2" Height="26" Margin="-205,0,0,0" />
                            <Button Width="30" Height="30" Click="btnBGStoppen_Click" Name="btnBGStoppen" Margin="-150,0,0,0" IsEnabled="False" Style="{StaticResource GlasButton}" Background="Black" ToolTip="Stopp" >
                                <Image Name="imgbtnBGStoppen" Source="/DSA%20MeisterGeister;component/Images/Icons/General/stop.png" Style="{StaticResource ImageEnabled}" Margin="5,6,4,4" />
                            </Button>

                            <Button Name="btnBGPrev" Width="30" Height="30" Background="Black" Margin="-80,0,0,0" Style="{StaticResource GlasButton}" Click="btnBGPrev_Click" IsEnabled="False" ToolTip="Zurück" >
                                <Image Name="imgbtnBGPrev" Margin="2,4,2,2" Source="/DSA%20MeisterGeister;component/Images/Icons/General/play_prev.png" Style="{StaticResource ImageEnabled}" />
                            </Button>

                            <Button Name="btnBGAbspielen" IsEnabled="False" ClickMode="Press" Tag="0" Grid.Column="2" Width="40" Height="40" Style="{StaticResource GlasButton}" Background="Black" Click="btnBGAbspielen_Click" ToolTip="Abspielen/Pause" >
                                <Image Name="imgbtnBGAbspielen" Margin="5"  Width="30" Height="30" Source="/DSA%20MeisterGeister;component/Images/Icons/General/play.png" Style="{StaticResource ImageEnabled}" />
                            </Button>

                            <Button Name="btnBGNext" IsEnabled="False" Grid.Column="2" Width="30" Height="30" Background="Black"  Margin="80,0,0,0" Style="{StaticResource GlasButton}" Click="btnBGNext_Click" ToolTip="Vor" >
                                <Image Name="imgbtnBGNext" Margin="2,4,2,2" Source="/DSA%20MeisterGeister;component/Images/Icons/General/play_next.png" Style="{StaticResource ImageEnabled}" />
                            </Button>

                            <Button Width="26" Height="26" Name="btnBGSpeaker" Click="btnBGSpeaker_Click" Margin="170,0,0,0" Tag="-1" ToolTip="Ton aus/an" >
                                <Image Name="imgbtnBGSpeaker" Width="20" Height="20" Margin="0,6,0,0" Source="/DSA%20MeisterGeister;component/Images/Icons/General/speaker.png" />
                            </Button>

                            <Slider Height="22" Margin="290,0,00,0" Maximum="100" Name="slBGVolume" UseLayoutRounding="True" Value="50" Width="80" SmallChange="1" LargeChange="10" ValueChanged="slBGVolume_ValueChanged" MouseWheel="slBGVolume_MouseWheel" ToolTip="Lautstärke" />
                        </Grid>
                    </Border>

                    <Grid Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Background="{StaticResource Background1}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="226" />
                            <ColumnDefinition Width="433*" MinWidth="235" />
                            <ColumnDefinition Width="320" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="26" />
                            <RowDefinition Height="388*" />
                        </Grid.RowDefinitions>
                        <Border  Margin="2,1,8,0" HorizontalAlignment="Stretch" Style="{DynamicResource ControlContentBorder}" VerticalAlignment="Stretch" ToolTip="Musik Filter">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="26" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="20" />
                                </Grid.ColumnDefinitions>
                                <Image Source="/Images/Icons/General/filter.png" Stretch="Fill"/>
                                <TextBox Margin="2,1" Name="tbBGFilter" Grid.Column="1" TextChanged="tbKBGFilter_TextChanged" GotFocus="tbGotFocus" LostFocus="tbLostFocus" />
                                <Button Grid.Column="2" Click="btnBGFilter_Click" ToolTip="Filter löschen" >
                                    <Image Source="/Images/Icons/Wuerfel/w6_blank.png" Stretch="Fill" HorizontalAlignment="Stretch" Width="15" Height="25" />
                                </Button>
                            </Grid>
                        </Border>
                        <Border Grid.Row="1" HorizontalAlignment="Stretch" Margin="2,0,0,10" Style="{DynamicResource ControlContentBorder}" Grid.RowSpan="2">
                            <Border.Background>
                                <LinearGradientBrush EndPoint="1,0.5" Opacity="0.3" StartPoint="0,0.5">
                                    <GradientStop Color="WhiteSmoke" Offset="0" />
                                    <GradientStop Color="#FFFFFFC7" Offset="1" />
                                </LinearGradientBrush>
                            </Border.Background>
                            <ListBox Padding="4" Name="lbMusik"  Background="Transparent" FontSize="14" VerticalAlignment="Stretch" ItemContainerStyle="{StaticResource SimpleListBoxItem}" MouseDoubleClick="lbMusik_MouseDoubleClick" SelectionChanged="lbMusik_SelectionChanged" ForceCursor="False" Tag="-1" VerticalContentAlignment="Stretch" Margin="0,0,7,0" />
                        </Border>

                        <GridSplitter Grid.Row="1" HorizontalAlignment="Right" VerticalAlignment="Stretch" Width="5" />
                        <Expander Margin="8,0,30,10" Grid.Column="1" Grid.Row="1" Grid.RowSpan="2" IsExpanded="True" MinWidth="200" ForceCursor="False">
                            <Expander.Header>
                                <TextBlock Text="Titel" Style="{DynamicResource TextTitel}" />
                            </Expander.Header>
                            <Border Style="{DynamicResource ControlContentBorder}">
                                <ListBox Background="Transparent" Name="lbMusiktitellist" VerticalAlignment="Stretch" SelectionChanged="lbMusiktitellist_SelectionChanged" ToolTip="Anklicken um den Titel abzuspielen" Focusable="True"></ListBox>
                            </Border>
                        </Expander>

                        <GridSplitter Grid.Column="2" Grid.Row="1" HorizontalAlignment="Left" VerticalAlignment="Center" Width="5" Height="240" Margin="0,46,2,72" />
                        <Border Grid.Column="2" Grid.Row="1" Height="240" Name="border2" Width="310" Style="{DynamicResource ControlContentBorder}" VerticalAlignment="Center" Margin="6,46,2,72" HorizontalAlignment="Left">
                            <Grid Name="grdSongInfo" Visibility="Hidden">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="50*" MinWidth="50"/>
                                    <ColumnDefinition Width="56*" />
                                    <ColumnDefinition Width="152*" />
                                    <ColumnDefinition Width="50" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="1*" />
                                    <RowDefinition Height="30*" />
                                    <RowDefinition Height="30*" />
                                    <RowDefinition Height="30*" />
                                    <RowDefinition Height="30*" />
                                    <RowDefinition Height="30*" />
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="50" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                <Label Content="" Grid.Row="1" Name="lblBgTitel" Grid.Column="2" Grid.ColumnSpan="2" FontWeight="Bold" />
                                <Label Content="" Grid.Row="2" Name="lblBgArtist" Grid.Column="2" Grid.ColumnSpan="2" />
                                <Label Content="" Grid.Row="3" Name="lblBgAlbum" Grid.Column="2" Grid.ColumnSpan="2" />
                                <Label Content="" Grid.Row="4" Name="lblBgJahr" Grid.Column="2" Grid.ColumnSpan="2" />
                                <Label Content="" Grid.Row="5" Name="lblBgGenre" Grid.Column="2" Grid.ColumnSpan="2" />
                                <Label Grid.Row="1" Content="Titel:" Margin="3,0,0,0" Name="lblCapTitel" Padding="5,5,0,0" />
                                <Label Grid.Row="2" Content="Interpret:" Margin="3,0,0,0" Name="lblCapArtist" Grid.ColumnSpan="2" />
                                <Label Grid.Row="3" Content="Album:" Margin="3,0,0,0" Name="lblCapAlbum" Grid.ColumnSpan="2" />
                                <Label Grid.Row="4" Content="Jahr:" Margin="3,0,0,0" Name="lblCapJahr" Grid.ColumnSpan="2" />
                                <Label Grid.Row="5" Content="Genre:" Margin="3,0,0,0" Name="lblCapGenre" Grid.ColumnSpan="2" />

                                <Label Grid.Row="6" Content="00:00" Height="25" HorizontalAlignment="Stretch" Name="lblBgTimeActual" VerticalAlignment="Top" HorizontalContentAlignment="Right" />
                                <Label Grid.Row="6" Content="--:--:--" HorizontalAlignment="Center" HorizontalContentAlignment="Right" Name="lblBgTimeMax" VerticalAlignment="Center" Grid.Column="3" />
                                <ProgressBar Grid.Row="6" Height="25" HorizontalAlignment="Right" Name="pbarBGSong" VerticalAlignment="Top" Width="201.263" Value="0" UseLayoutRounding="False" Grid.ColumnSpan="2" MouseLeftButtonDown="pbarBGSong_MouseLeftButtonDown" ToolTip="Klicken um von der Liedstelle abzuspielen" Cursor="Hand" Grid.Column="1" />
                                <CheckBox Name="chkbxPlayRange" Grid.Row="7" Content="Nur ein Teil des Songs" Grid.Column="1" Grid.ColumnSpan="2" VerticalAlignment="Top" Click="chkbxPlayRange_Click" Focusable="False" />
                                <local:SliderRange x:Name="rsldTeilSong" Grid.Row="6" Grid.Column="1" Grid.ColumnSpan="2" VerticalAlignment="Top" Width="200" LowerValue="0" UpperValue="10000" Minimum="0" Maximum="10000" Margin="7,2,0,0" PreviewMouseLeftButtonUp="rsldTeilSong_PreviewMouseLeftButtonUp" Visibility="Hidden" />

                                <GroupBox Grid.Row="8" Grid.Column="1" Grid.ColumnSpan="2" Header="Gewichtung">
                                    <StackPanel Orientation="Horizontal" FlowDirection="LeftToRight" Margin="30,0,0,0">
                                        <Image Name="imgBGStern0" Grid.Column="1" Tag="1" Source="/DSA%20MeisterGeister;component/Images/Icons/General/neu_grau.png" MouseDown="imgBGStern_MouseDown"/>
                                        <Image Name="imgBGStern1" Grid.Column="1" Tag="2" Source="/DSA%20MeisterGeister;component/Images/Icons/General/neu_grau.png" MouseDown="imgBGStern_MouseDown"/>
                                        <Image Name="imgBGStern2" Grid.Column="1" Tag="3" Source="/DSA%20MeisterGeister;component/Images/Icons/General/neu_grau.png" MouseDown="imgBGStern_MouseDown"/>
                                        <Image Name="imgBGStern3" Grid.Column="1" Tag="4" Source="/DSA%20MeisterGeister;component/Images/Icons/General/neu_grau.png" MouseDown="imgBGStern_MouseDown"/>
                                        <Image Name="imgBGStern4" Grid.Column="1" Tag="5" Source="/DSA%20MeisterGeister;component/Images/Icons/General/neu_grau.png" MouseDown="imgBGStern_MouseDown"/>
                                    </StackPanel>
                                </GroupBox>
                            </Grid>
                        </Border>
                    </Grid>
                </Grid>
            </TabItem>

            <TabItem Name="tiMain" Header="Erweiterter - Player" GotFocus="tiPList_GotFocus" >
                <Grid Name="grdtiPList"  Background="{StaticResource Background1}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1*" />
                        <ColumnDefinition Width="1*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="35" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="46" />
                        <RowDefinition Height="40*" />
                    </Grid.RowDefinitions>

                    <Border Style="{DynamicResource ControlContentBorder}" Margin="10,0" Grid.ColumnSpan="2">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1*" />
                                <ColumnDefinition Width="1*" />
                            </Grid.ColumnDefinitions>
                            <Border HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,-100,0" Style="{DynamicResource ControlContentBorder}" ToolTip="Übergeordneter Filter auf Namen und/oder Kategorien aller Bereiche" >
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="26" />
                                        <ColumnDefinition Width="*" MinWidth="150" />
                                        <ColumnDefinition Width="20" />
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Image Source="/Images/Icons/General/filter.png" Stretch="Fill"/>
                                    <Button Grid.Column="2" Click="btnBGFilter_Click" ToolTip="Filter löschen" >
                                        <Image Source="/Images/Icons/Wuerfel/w6_blank.png" Stretch="Fill" HorizontalAlignment="Stretch" Width="15" Height="25" />
                                    </Button>
                                    <TextBox Name="tbThemesFilterAll" Margin="2,1" Grid.Column="1" TextChanged="tbThemesFilterAll_TextChanged" GotFocus="tbGotFocus" LostFocus="tbLostFocus" />
                                </Grid>

                            </Border>

                            <StackPanel Orientation="Horizontal" Grid.Column="1" Width="140" HorizontalAlignment="Right" >
                                <Border HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,2,0" Width="60" Height="27" Style="{DynamicResource ControlContentBorder}" >
                                    <StackPanel Orientation="Horizontal">
                                        <Image Source="/Images/Icons/General/copy.png" Width="24" Height="24" />
                                        <ToggleButton Name="tbThemeThemeNormSize" Width="24" Height="24" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="5,1,1,0" Click="tbThemeThemeNormSize_Click" Focusable="False" ClickMode="Press" >
                                            <StackPanel>
                                                <Image Name="imgThemeThemeNorm" Source="/Images/Icons/General/kachel.png" />
                                                <Image Source="/Images/Icons/General/zeile.png" Height="10" Width="24" Stretch="Fill" Margin="-2,0,0,-1" />
                                                <Image Source="/Images/Icons/General/zeile.png" Height="10" Width="24" Stretch="Fill" Margin="-2,0,0,0" />
                                            </StackPanel>
                                        </ToggleButton>
                                    </StackPanel>
                                </Border>
                                <Border HorizontalAlignment="Right" VerticalAlignment="Center"  Grid.Column="1" Margin="15,0,2,0" Width="57" Height="27" Style="{DynamicResource ControlContentBorder}" >
                                    <StackPanel Orientation="Horizontal">
                                        <Grid Height="25" Width="22">
                                            <Image Source="/Images/Icons/General/speaker.png" Style="{StaticResource ImageEnabled}" Margin="0,2,0,-2"  />
                                            <Image Source="/Images/Icons/General/audio.png" Style="{StaticResource ImageEnabled}" Margin="3,0,-3,0" />
                                        </Grid>
                                        <ToggleButton Name="tbThemePListNormSize" Width="24" Height="24" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="5,1,1,0" Click="tbThemePListNormSize_Click" Focusable="False" ClickMode="Press" >
                                            <StackPanel>
                                                <Image Name="imgThemePListNorm" Source="/Images/Icons/General/kachel.png" />
                                                <Image Source="/Images/Icons/General/zeile.png" Height="10" Width="24" Stretch="Fill" Margin="-2,0,0,-1" />
                                                <Image Source="/Images/Icons/General/zeile.png" Height="10" Width="24" Stretch="Fill" Margin="-2,0,0,0" />
                                            </StackPanel>
                                        </ToggleButton>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <Border Grid.Row="1" Grid.ColumnSpan="2">
                        <StackPanel>
                            <Expander Name="exErwPlayerTheme" IsExpanded="True" Margin="30,5,30,10" MinWidth="200" MaxHeight="500" ForceCursor="False" >
                                <Expander.Header>
                                    <StackPanel HorizontalAlignment="Center" Orientation="Horizontal" >
                                        <Image Source="/Images/Icons/General/copy.png" />
                                        <TextBlock Text="Themes" Style="{DynamicResource TextTitel}" />
                                    </StackPanel>
                                </Expander.Header>
                                <Border Style="{DynamicResource ControlContentBorder}" VerticalAlignment="Top" ToolTip="Liste aller erstellten Themes (Zusammenstellungen von Musik und Geräusche-Playlisten)">
                                    <ScrollViewer VerticalScrollBarVisibility="Visible" Margin="0,0,0,6">
                                        <WrapPanel Name="wpnlPListThemes" ItemHeight="50" ItemWidth="130" MinHeight="60" />
                                    </ScrollViewer>
                                </Border>
                            </Expander>

                            <!--   <Expander Name="exErwPlayerDebug" IsExpanded="True" Margin="30,5,30,10" MinWidth="200" MaxHeight="500" ForceCursor="False" Visibility="{Binding Path=IsChecked, ElementName=tbtnErwPlayerDebug, Converter={StaticResource BooleanToVisibilityConverter1}}" >
                            <Expander.Header>
                                <StackPanel HorizontalAlignment="Center" Orientation="Horizontal" >
                                    <Image Source="/Images/Icons/General/feder.png" />
                                    <TextBlock Text="Debug" Style="{DynamicResource TextTitel}" />
                                </StackPanel>
                            </Expander.Header>
                                <TreeView Name="tvDebug" Visibility="{Binding DEBUG, Converter={StaticResource BooleanToVisibilityConverter1}}" />
                            </Expander>-->
                        </StackPanel>
                    </Border>

                    <GridSplitter Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" ResizeDirection="Rows" Height="5" Grid.ColumnSpan="2" />

                    <GridSplitter Grid.Row="2" Grid.RowSpan="2" HorizontalAlignment="Right" VerticalAlignment="Stretch" Width="5" Margin="0,0,-2,0" />

                    <Border Grid.Row="2" Style="{DynamicResource ControlContentBorder}" Margin="10,2">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="285" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="187*" MinWidth="100" MaxWidth="280" />
                            </Grid.ColumnDefinitions>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="15,0,0,0" VerticalAlignment="Top">
                                <Button IsEnabled="{Binding IsEnabled, ElementName=btnBGStoppen}" Width="30" Height="30" Click="btnBGStoppen_Click" Margin="0,0,5,0" Style="{StaticResource GlasButton}" Background="Black" ToolTip="Stopp" >
                                    <Image Source="{Binding Source, ElementName=imgbtnBGStoppen}" Style="{StaticResource ImageEnabled}" Margin="5,6,4,4" />
                                </Button>

                                <Button IsEnabled="{Binding IsEnabled, ElementName=btnBGPrev}" Width="30" Height="30" Background="Black" Style="{StaticResource GlasButton}" Click="btnBGPrev_Click" Margin="0,0,5,0" ToolTip="Zurück" >
                                    <Image Source="{Binding Source, ElementName=imgbtnBGPrev}" Margin="2,4,2,2" Style="{StaticResource ImageEnabled}" />
                                </Button>

                                <Button IsEnabled="{Binding IsEnabled, ElementName=btnBGAbspielen}"  ClickMode="Press" Tag="0"  Width="40" Height="40" Margin="0,0,5,0" Style="{StaticResource GlasButton}" Background="Black" Click="btnBGAbspielen_Click" ToolTip="Abspielen/Pause">
                                    <Image Source="{Binding Source, ElementName=imgbtnBGAbspielen}" Margin="5"  Width="30" Height="30" Style="{StaticResource ImageEnabled}" />
                                </Button>

                                <Button IsEnabled="{Binding IsEnabled, ElementName=btnBGNext}" Width="30" Height="30" Background="Black" Style="{StaticResource GlasButton}" Margin="0,0,5,0" Click="btnBGNext_Click" ToolTip="Vor" >
                                    <Image Source="{Binding Source, ElementName=imgbtnBGNext}" Margin="2,4,2,2" Style="{StaticResource ImageEnabled}" />
                                </Button>

                                <Button Width="26" Height="26" Click="btnBGSpeaker_Click" ToolTip="Ton aus/an" >
                                    <Image Source="{Binding Source, ElementName=imgbtnBGSpeaker}" Width="20" Height="20" Margin="0,6,0,0" />
                                </Button>

                                <Slider Value="{Binding Value, ElementName=slBGVolume}" ToolTip="{Binding ToolTip, ElementName=slBGVolume}" MouseWheel="slBGVolume_MouseWheel" Height="22" Maximum="100" UseLayoutRounding="True" Width="80" SmallChange="1" LargeChange="10"  Margin="10,0,0,0" />
                            </StackPanel>
                            <Border Grid.Column="2" HorizontalAlignment="Stretch" Height="28" Style="{DynamicResource ControlContentBorder}" VerticalAlignment="Center" ToolTip="Filter aller Musik-Playlisten auf Namen und/oder Kategorie" Margin="5,0,15,0">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="26" />
                                        <ColumnDefinition Width="*" MinWidth="50" />
                                        <ColumnDefinition Width="20" />
                                    </Grid.ColumnDefinitions>
                                    <Image Source="/Images/Icons/General/filter.png" Stretch="Fill"/>
                                    <TextBox Name="tbPListMusikName" Margin="2,1" Grid.Column="1" TextChanged="tbPListFilterAll_TextChanged" GotFocus="tbGotFocus" LostFocus="tbLostFocus" />
                                    <Button Grid.Column="2" Click="btnBGFilter_Click" ToolTip="Filter löschen" >
                                        <Image Source="/Images/Icons/Wuerfel/w6_blank.png" Stretch="Fill" HorizontalAlignment="Stretch" Width="15" Height="25" />
                                    </Button>
                                </Grid>
                            </Border>
                        </Grid>
                    </Border>

                    <Border Grid.Row="2" Grid.Column="1" Style="{DynamicResource ControlContentBorder}" Margin="10,2">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="285*" MinWidth="200" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="187*" MinWidth="100" MaxWidth="280" />
                            </Grid.ColumnDefinitions>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left"  Margin="17,0,0,0" VerticalAlignment="Center">
                                <Button Name="btnThemeGeräuscheAus" HorizontalAlignment="Left" VerticalAlignment="Center" Padding="2" Width="20" Height="20" Margin="0,0,10,0" ToolTip="Alle Geräusche ausschalten" Click="btnThemeGeräuscheAus_Click" >
                                    <Grid>
                                        <Image Source="/Images/Icons/General/OK.png" />
                                        <Image Source="/Images/Icons/General/gestrichen.png" />
                                    </Grid>
                                </Button>
                                <Button Name="btnThemeGeräuscheFilterAktiv" HorizontalAlignment="Left" VerticalAlignment="Center" Padding="2" Width="20" Height="20" Margin="0,0,10,0" ToolTip="Nur aktive Playlists zeigen" Click="btnThemeGeräuscheFilterAktiv_Click" >
                                    <Grid>
                                        <Image Source="/Images/Icons/General/OK.png" VerticalAlignment="Center" />
                                        <Image Source="/Images/Icons/General/Filter.png" VerticalAlignment="Center" Margin="4,-2,-8,-2" />
                                    </Grid>
                                </Button>
                                <Button Grid.Column="2" Click="btnPListAktFilter_Click" ToolTip="Aktiv-Filter löschen" Width="20" Height="20"  Name="btnPListAktFilter" Margin="-5,0,10,0" Visibility="Hidden" >
                                    <Grid>
                                        <Image Source="/Images/Icons/General/OK.png" VerticalAlignment="Center" />
                                        <Image Source="/Images/Icons/General/Filter.png" VerticalAlignment="Center" Margin="4,-2,-8,-2" />
                                        <Image Source="/Images/Icons/General/gestrichen.png" />
                                    </Grid>
                                </Button>
                                <TextBlock Padding="4,2,4,0" />
                                <Button ClickMode="Press" Tag="false" Width="40" Height="40" Margin="0,0,5,0" Style="{StaticResource GlasButton}" Background="Black" Click="btnPListPListAbspielen_Click" Name="btnPListPListAbspielen" IsEnabled="False" >
                                    <Image Name="btnimgPListPListAbspielen" Width="30" Height="30" Margin="5" Source="/DSA%20MeisterGeister;component/Images/Icons/General/play_grau.png" Style="{StaticResource ImageEnabled}" />
                                </Button>
                                <Button Width="26" Height="26" Tag="-1" Name="btnPListPListSpeaker" Click="btnPListPListSpeaker_Click">
                                    <Image Width="20" Height="20" Margin="0,6,0,0" Source="/DSA%20MeisterGeister;component/Images/Icons/General/speaker.png" Name="btnimgPListPListSpeaker" />
                                </Button>
                                <Slider Height="22" Maximum="200" UseLayoutRounding="False" Value="100" Width="80" SmallChange="1" LargeChange="10" ValueChanged="slPlaylistVolume_ValueChanged" MouseWheel="slVolume_MouseWheel" Name="slPlaylistVolume" Margin="10,0,0,0" ToolTip="100 % der Playlisten-Lautstärke" Interval="1" >
                                    <Slider.Background>
                                        <LinearGradientBrush EndPoint="1,0.5" Opacity="0.2" StartPoint="0,-1">
                                            <GradientStop Color="#FF00FF52" Offset="0.5" />
                                            <GradientStop Color="Red" Offset="0.6" />
                                        </LinearGradientBrush>
                                    </Slider.Background>
                                </Slider>
                                <TextBlock Padding="4,2,4,0" />
                            </StackPanel>
                            <Border Grid.Column="2" Style="{DynamicResource ControlContentBorder}" Height="28" VerticalAlignment="Center" ToolTip="Filter aller Geräusche-Playlisten auf Namen und/oder Kategorie" Margin="3,0,20,0">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="26" />
                                        <ColumnDefinition Width="*" MinWidth="50" />
                                        <ColumnDefinition Width="20" />
                                    </Grid.ColumnDefinitions>
                                    <Image Source="/Images/Icons/General/filter.png" Stretch="Fill"/>
                                    <TextBox Name="tbPListGeräuscheName" Margin="2,1" Grid.Column="1" TextChanged="tbPListFilterAll_TextChanged" GotFocus="tbGotFocus" LostFocus="tbLostFocus" />
                                    <Button Grid.Column="2" Click="btnBGFilter_Click" ToolTip="Filter löschen" >
                                        <Image Source="/Images/Icons/Wuerfel/w6_blank.png" Stretch="Fill" HorizontalAlignment="Stretch" Width="15" Height="25" />
                                    </Button>
                                </Grid>
                            </Border>
                            <!-- <Border Grid.Column="2" HorizontalAlignment="Right">
                                <ToggleButton Name="tbtnErwPlayerDebug" Width="20" Height="20" Click="tbtnErwPlayerDebug_Click" >
                                    <Image Source="/Images/Icons/General/feder.png" />
                                </ToggleButton>
                            </Border>-->
                        </Grid>
                    </Border>

                    <Border Grid.Row="3">
                        <Expander Name="exPListMusik" IsExpanded="True" Margin="30,5,30,10"  MinWidth="200" ForceCursor="False" Collapsed="exPListPlaylists_Collapsed" Expanded="exPListPlaylists_Collapsed" >
                            <Expander.Header>
                                <StackPanel HorizontalAlignment="Center" Orientation="Horizontal" >
                                    <Image Source="/Images/Icons/General/audio.png" />
                                    <TextBlock Text="Musik-Playlists" Style="{DynamicResource TextTitel}" />
                                </StackPanel>
                            </Expander.Header>
                            <Border Style="{DynamicResource ControlContentBorder}" VerticalAlignment="Top">
                                <ListBox Name="lbPListMusik"  Background="Transparent" VerticalAlignment="Stretch" SelectionChanged="lbPListMusik_SelectionChanged" ItemContainerStyle="{StaticResource SimpleListBoxItem}" 
                                         ToolTip="Liste der Musik-Playlisten. Zum Abspielen auswählen oder das entsprechende Theme aktivieren" />
                            </Border>
                        </Expander>
                    </Border>

                    <Border Grid.Row="3" Grid.Column="1" >
                        <Expander Name="exPListPlaylists" Margin="30,5,30,10" IsExpanded="True" MinWidth="200" ForceCursor="False" Collapsed="exPListPlaylists_Collapsed" Expanded="exPListPlaylists_Collapsed" >
                            <Expander.Header>
                                <StackPanel HorizontalAlignment="Center" Orientation="Horizontal" >
                                    <Image Source="/Images/Icons/General/speaker.png" Margin="0,2,0,-2" />
                                    <TextBlock Text="Geräusche-Playlists" Style="{DynamicResource TextTitel}" />
                                </StackPanel>
                            </Expander.Header>
                            <Border Style="{DynamicResource ControlContentBorder}" VerticalAlignment="Top">
                                <ListBox Name="lbPListGeräusche" ItemContainerStyle="{StaticResource SimpleListBoxItem}" Background="Transparent" VerticalAlignment="Stretch" Style="{StaticResource ReadOnlyStyle}" 
                                         ToolTip="Liste aller Geräusche-Playlisten. Zum Anspielen einen Haken setzen oder das entsprechende Theme auswählen"/>
                            </Border>
                        </Expander>
                    </Border>

                </Grid>
            </TabItem>

            <TabItem Name="tiAbenteuer" Header="Abenteuer" Visibility="Hidden" >
                <Grid Background="{StaticResource Background1}" >
                    <Grid.RowDefinitions>
                        <RowDefinition Height="60" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="200" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <Border Name="brdAbenteuerTop" Height="40" Width="400" HorizontalAlignment="Left" Grid.Column="1" VerticalAlignment="Top" Style="{DynamicResource ControlContentBorder}" >
                        <Grid >
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="100" />
                                <ColumnDefinition Width="200*" MinWidth="200" />
                            </Grid.ColumnDefinitions>

                            <Label Name="lblAbentuerListName" Content="Abentuer-Name" VerticalContentAlignment="Center" />
                            <TextBox HorizontalAlignment="Stretch" Name="tboxAbentuerName" Text="Neues Abenteuer" FontWeight="Bold" ToolTip="Text abändern und ENTER-Taste drücken um das Abenteuer umzubenennen" Height="25" Grid.Column="1" Background="{x:Null}" Margin="0,0,10,0" LostFocus="tboxEditorName_LostFocus" ForceCursor="True" KeyUp="tboxEditorName_KeyUp" GotFocus="tbGotFocus" />

                        </Grid>
                    </Border>

                    <Border Grid.Row="1" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" >
                        <StackPanel Orientation="Vertical" Grid.Row="1" >

                            <Expander HorizontalAlignment="Stretch" IsExpanded="True" ForceCursor="False" Grid.Row="1" Margin="0,-1,7,0" >
                                <Expander.Header>
                                    <StackPanel HorizontalAlignment="Left" Orientation="Horizontal" >
                                        <Image Source="/Images/Icons/General/audio.png" />
                                        <TextBlock Text="Musik Playlisten" Style="{DynamicResource TextTitel}" />
                                    </StackPanel>
                                </Expander.Header>

                                <Border Style="{DynamicResource ControlContentBorder}"  >
                                    <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="26" />
                                            <RowDefinition Height="500*" />
                                        </Grid.RowDefinitions>

                                        <Border HorizontalAlignment="Stretch" Style="{DynamicResource ControlContentBorder}" VerticalAlignment="Stretch" ToolTip="Playlist Filter">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="26" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="20" />
                                                </Grid.ColumnDefinitions>
                                                <Image Source="/Images/Icons/General/filter.png" Stretch="Fill"/>
                                                <TextBox Margin="2,1" Name="tbAbenteuerPlaylistFilter" Grid.Column="1" TextChanged="tbEditorPlaylistFilter_TextChanged" GotFocus="tbGotFocus" LostFocus="tbLostFocus" />
                                                <Button Grid.Column="2" Click="btneditorFilter_Click" ToolTip="Filter löschen" >
                                                    <Image Source="/Images/Icons/Wuerfel/w6_blank.png" Stretch="Fill" HorizontalAlignment="Stretch" Width="15" Height="25" />
                                                </Button>
                                            </Grid>
                                        </Border>

                                        <Border Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  Margin="2,0,0,10" Style="{DynamicResource ControlContentBorder}" >
                                            <Border.Background>
                                                <LinearGradientBrush EndPoint="1,0.5" Opacity="0.3" StartPoint="0,0.5">
                                                    <GradientStop Color="WhiteSmoke" Offset="0" />
                                                    <GradientStop Color="#FFFFFFC7" Offset="1" />
                                                </LinearGradientBrush>
                                            </Border.Background>
                                            <ListBox Padding="4" Name="lbAbenteuer"  Background="Transparent" FontSize="14" VerticalAlignment="Stretch" ItemContainerStyle="{StaticResource SimpleListBoxItem}" MouseDoubleClick="lbMusik_MouseDoubleClick" ForceCursor="False" Tag="-1" VerticalContentAlignment="Stretch" Margin="0,0,7,0" />
                                        </Border>
                                    </Grid>
                                </Border>
                            </Expander>
                        </StackPanel>
                    </Border>

                    <Border Name="brdAbenteuerListe" Margin="3,8,6,9" Grid.Column="1" Grid.Row="2" Style="{DynamicResource ControlContentBorder}">

                    </Border>


                </Grid>
            </TabItem>
        </TabControl>

        <GroupBox Header="Hotkeys"  Name="gbxHotkeys" VerticalAlignment="Bottom" Margin="10,-5,10,0" Height="60" Padding="0,-1,0,-3" Visibility="Collapsed" >
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="35" />
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Horizontal">
                    <Button Height="30" Style="{StaticResource GlasButton}" Background="Black" Width="30" ToolTip="Stoppen aller laufenden Hotkeys" Name="btnHotkeyStop" Click="btnHotkeyStop_Click" IsEnabled="False">
                        <Image Source="/Images/Icons/General/stop.png" Margin="5,6,4,4" />
                    </Button>
                    <Slider Width="22" Maximum="100" Name="slHotkey" UseLayoutRounding="True" Value="50" SmallChange="1" LargeChange="10" ValueChanged="slHotkey_ValueChanged" Orientation="Vertical" Margin="2" ToolTip="50 %" />
                    <ScrollViewer VerticalScrollBarVisibility="Disabled" HorizontalScrollBarVisibility="Auto">
                        <Grid Name="gbxHotkeysgrdHotkeys" >
                            <StackPanel Name="spnlHotkeys" Orientation="Horizontal" Margin="5,0,0,0" />
                        </Grid>
                    </ScrollViewer>
                </StackPanel>
                <Button Name="btnHotkeysLöschen" Grid.Column="1" VerticalAlignment="Center" Height="25" Width="25" ToolTip="Alle Hotkeys löschen" Margin="5,0" Click="btnHotkeysLöschen_Click" >
                    <Image Source="/Images/Icons/General/entf_all.png" Style="{StaticResource ImageEnabled}" />
                </Button>
            </Grid>
        </GroupBox>
        <!--
        <StackPanel Grid.Column="1">
            <Label Name="lblTest" Content="{Binding Path=AktKlangPlaylist.Name}" Height="20" />
            <Button Click="btnTest_Click" Height="20" />            
        </StackPanel>
        <ListBox Name="lbTest" Margin="56,29,599,31" Grid.Row="1" Visibility="Collapsed" />
        <ListBox  Name="lboxTest" HorizontalAlignment="Left" Height="145" Margin="708,10,0,0" Grid.RowSpan="2" VerticalAlignment="Top" Width="68"/>
        <ListBox x:Name="lbFading" Grid.Column="1" HorizontalAlignment="Left" Height="400" Margin="83,27,0,0" Grid.RowSpan="3" VerticalAlignment="Top" Width="334" Visibility="Hidden" />
        
        <Button Content="Fading-List" HorizontalAlignment="Left" Height="24" Margin="563,10,0,0" VerticalAlignment="Top" Width="58" Click="Button_Click" Visibility="{x:Static mg:Global.INTERN_Visibility}" />-->
    </Grid>
</UserControl>