<UserControl x:Class="MeisterGeister.View.Helden.Controls.InventarView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    xmlns:vm="clr-namespace:MeisterGeister.ViewModel.Inventar"
    xmlns:Microsoft_Windows_Themes="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Aero" 	
    xmlns:MeisterGeister_View_General="clr-namespace:MeisterGeister.View.General"
	xmlns:ViewGeneral="clr-namespace:MeisterGeister.View.General"  	
    mc:Ignorable="d" 
    d:DesignHeight="900" 
    d:DesignWidth="790" 
    Loaded="UserControl_Loaded" Unloaded="UserControl_Unloaded"
    Background="Transparent">

    <UserControl.Resources>
        <DataTemplate x:Key="ComboboxEasyItem_Talentname">
            <Border Style="{DynamicResource ControlContentBorder}" HorizontalAlignment="Stretch">
                <TextBlock Text="{Binding Talentname}" FontWeight="Bold" HorizontalAlignment="Left"/>
            </Border>
        </DataTemplate>
        <DataTemplate x:Key="ComboboxEasyItem_Name">
            <Border Style="{DynamicResource ControlContentBorder}" HorizontalAlignment="Stretch">
                <TextBlock Text="{Binding Name}" FontWeight="Bold" HorizontalAlignment="Left"/>
            </Border>
        </DataTemplate>
        <!--NahkampfTemplate-->
        <DataTemplate x:Key="NahkampfwaffeTemplate">
            <Border BorderBrush="#FFBEB3A3" BorderThickness="1">
            <Grid>
                <Grid Margin="0,0,25,0" >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition />
                        <ColumnDefinition />
                        <ColumnDefinition />
                        <ColumnDefinition />
                        <ColumnDefinition />
                        <ColumnDefinition />
                        <ColumnDefinition />
                        <ColumnDefinition />
                        <ColumnDefinition />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <StackPanel Grid.Column="0">
                        <CheckBox IsChecked="{Binding Ausgeruestet, Mode=TwoWay}"  HorizontalAlignment="Center" Margin="0,0,5,0"/>
                        <TextBox Text="{Binding Trageort, Mode=TwoWay}" TextWrapping="Wrap" HorizontalAlignment="Center"/>
                    </StackPanel>
                        <TextBlock Grid.Column="1" Text="{Binding EntityNW.Gewicht}" TextWrapping="Wrap"  HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="2" Grid.ColumnSpan="3" Text="{Binding EntityNW.Name}" TextWrapping="Wrap"  HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="5" Text="{Binding TP}"  TextWrapping="Wrap" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="6" Text="{Binding TPKK}" TextWrapping="Wrap"  HorizontalAlignment="Center" VerticalAlignment="Center"/>                        
                        <TextBlock Grid.Column="7" Text="{Binding EntityNW.BF}" TextWrapping="Wrap"  HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="8" Text="{Binding EntityNW.INI}" TextWrapping="Wrap" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="9" Text="{Binding WM}" TextWrapping="Wrap"  HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="10" Text="{Binding EntityNW.DK}" TextWrapping="Wrap"  HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Grid>
                <Button HorizontalAlignment="Right" Grid.Column="3" Width="25" Command="{Binding OnRemoveNahkampfwaffe}">
                    <Image Source="/Images/Icons/General/entf_01.png" />
                </Button>            
            </Grid>
            </Border>
        </DataTemplate>
        <!--FernkampfTemplate-->
        <DataTemplate x:Key="FernkampfwaffeTemplate">
            <Border BorderBrush="#FFBEB3A3" BorderThickness="1">
                <Grid>
                    <Grid Margin="0,0,25,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0">
                            <CheckBox IsChecked="{Binding Ausgeruestet, Mode=TwoWay}"  HorizontalAlignment="Center" Margin="0,0,5,0"/>
                            <TextBox Text="{Binding Trageort.Name, Mode=TwoWay}" TextWrapping="Wrap" HorizontalAlignment="Center"/>
                        </StackPanel>
                        <TextBlock Grid.Column="1" Text="{Binding Gewicht}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="2" Grid.ColumnSpan="3" Text="{Binding Name}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="4" Text="{Binding TP}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="5" Grid.ColumnSpan="2" Text="{Binding EntityFW.Reichweiten}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="7" Grid.ColumnSpan="2" Text="{Binding EntityFW.TPReichweiten}"  HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="9" Text="{Binding EntityFW.Laden}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Grid>
                    <Button HorizontalAlignment="Right" Grid.Column="3" Width="25" Command="{Binding OnRemoveNahkampfwaffe}">
                        <Image Source="/Images/Icons/General/entf_01.png" />
                    </Button>
                </Grid>
            </Border>
        </DataTemplate>
        <!--SchildTemplate-->
        <DataTemplate x:Key="SchildTemplate">
            <Border BorderBrush="#FFBEB3A3" BorderThickness="1">
                <Grid>
                    <Grid Margin="0,0,25,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />
                            <ColumnDefinition />                            
                            </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0" >
                            <CheckBox IsChecked="{Binding Ausgeruestet, Mode=TwoWay}"  HorizontalAlignment="Center" Margin="0,0,5,0"/>
                            <TextBox Text="{Binding Trageort.Name, Mode=TwoWay}" TextWrapping="Wrap" HorizontalAlignment="Center"/>
                        </StackPanel>
                        <TextBlock Grid.Column="1" Text="{Binding EntityS.Gewicht}" TextWrapping="Wrap" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="2" Grid.ColumnSpan="3" Text="{Binding EntityS.Name}" TextWrapping="Wrap"  HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="5" Text="{Binding EntityS.Größe}" TextWrapping="Wrap"  HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="6" Text="{Binding WM}" TextWrapping="Wrap" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="7" Text="{Binding EntityS.INI}" TextWrapping="Wrap"  HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="8" Text="{Binding EntityS.BF}" TextWrapping="Wrap" HorizontalAlignment="Center" VerticalAlignment="Center"/>                        
                    </Grid>
                    <Button HorizontalAlignment="Right" Grid.Column="3" Width="25" Command="{Binding OnRemoveSchild}">
                        <Image Source="/Images/Icons/General/entf_01.png" />
                    </Button>
                </Grid>
            </Border>
        </DataTemplate>
        <!--RuestungTemplate-->
        <DataTemplate x:Key="RuestungTemplate">
            <Border BorderBrush="#FFBEB3A3" BorderThickness="1">
                <Grid>
                <Grid Margin="0,0,25,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition />
                        <ColumnDefinition />
                        <ColumnDefinition />
                        <ColumnDefinition />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <StackPanel Grid.Column="0">
                            <CheckBox IsChecked="{Binding Ausgeruestet, Mode=TwoWay}"  HorizontalAlignment="Center" Margin="0,0,5,0"/>
                            <TextBox Text="{Binding Trageort.Name, Mode=TwoWay}" TextWrapping="Wrap" HorizontalAlignment="Center"/>
                        </StackPanel>
                        <TextBlock Grid.Column="1" Text="{Binding EntityR.Gewicht}" TextWrapping="Wrap" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="2" Grid.ColumnSpan="2" Text="{Binding EntityR.Name}" TextWrapping="Wrap" HorizontalAlignment="Center" VerticalAlignment="Center"/>                                                
                        <TextBlock Grid.Column="4" Text="{Binding EntityR.RS}" TextWrapping="Wrap" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBlock Grid.Column="5" Text="{Binding EntityR.BE}" TextWrapping="Wrap" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Grid>
                    <Button HorizontalAlignment="Right" Width="25" Command="{Binding OnRemoveRuestung}">
                        <Image Source="/Images/Icons/General/entf_01.png" />
                    </Button>
                </Grid>
            </Border>
        </DataTemplate>
        <Style x:Key="ButtonBackground" TargetType="{x:Type Border}">
            <Setter Property="Background">
                <Setter.Value>
                    <RadialGradientBrush>
                        <GradientStop Color="#FF997545" Offset="0"/>
                        <GradientStop Color="Transparent" Offset="1"/>
                    </RadialGradientBrush>
                </Setter.Value>
            </Setter>
        </Style>
        <Storyboard x:Key="HeldContentToRuestung">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(SkewTransform.AngleX)" Storyboard.TargetName="RuestungMan">
                <EasingDoubleKeyFrame KeyTime="0" Value="89"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="0"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(SkewTransform.AngleX)" Storyboard.TargetName="HeldDaten">
                <EasingDoubleKeyFrame KeyTime="0" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="89"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(SkewTransform.AngleY)" Storyboard.TargetName="HeldDaten">
                <EasingDoubleKeyFrame KeyTime="0" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="0"/>
            </DoubleAnimationUsingKeyFrames>
            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)" Storyboard.TargetName="HeldDaten">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}"/>
                <DiscreteObjectKeyFrame KeyTime="0:0:0.5" Value="{x:Static Visibility.Collapsed}"/>
            </ObjectAnimationUsingKeyFrames>
            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)" Storyboard.TargetName="RuestungMan">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}"/>
                <DiscreteObjectKeyFrame KeyTime="0:0:0.5" Value="{x:Static Visibility.Visible}"/>
            </ObjectAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.X)" Storyboard.TargetName="HeldDaten">
                <EasingDoubleKeyFrame KeyTime="0" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="0"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.X)" Storyboard.TargetName="RuestungMan">
                <EasingDoubleKeyFrame KeyTime="0" Value="0"/>
                <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="0"/>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
        <Storyboard x:Key="HeldRuestungToContent">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(SkewTransform.AngleX)" Storyboard.TargetName="RuestungMan">
                <SplineDoubleKeyFrame KeyTime="0" Value="0"/>
                <SplineDoubleKeyFrame KeyTime="0:0:0.5" Value="0"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(SkewTransform.AngleX)" Storyboard.TargetName="HeldDaten">
                <SplineDoubleKeyFrame KeyTime="0" Value="89"/>
                <SplineDoubleKeyFrame KeyTime="0:0:0.5" Value="0"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(SkewTransform.AngleY)" Storyboard.TargetName="HeldDaten">
                <SplineDoubleKeyFrame KeyTime="0" Value="0"/>
                <SplineDoubleKeyFrame KeyTime="0:0:0.5" Value="0"/>
            </DoubleAnimationUsingKeyFrames>
            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)" Storyboard.TargetName="HeldDaten">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}"/>
                <DiscreteObjectKeyFrame KeyTime="0:0:0.5" Value="{x:Static Visibility.Visible}"/>
            </ObjectAnimationUsingKeyFrames>
            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)" Storyboard.TargetName="RuestungMan">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}"/>
                <DiscreteObjectKeyFrame KeyTime="0:0:0.5" Value="{x:Static Visibility.Collapsed}"/>
            </ObjectAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(SkewTransform.AngleX)" Storyboard.TargetName="RuestungMan">
                <SplineDoubleKeyFrame KeyTime="0" Value="0"/>
                <SplineDoubleKeyFrame KeyTime="0:0:0.5" Value="89"/>
                <SplineDoubleKeyFrame KeyTime="0:0:1" Value="89"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.X)" Storyboard.TargetName="HeldDaten">
                <SplineDoubleKeyFrame KeyTime="0" Value="0"/>
                <SplineDoubleKeyFrame KeyTime="0:0:0.5" Value="0"/>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.X)" Storyboard.TargetName="RuestungMan">
                <SplineDoubleKeyFrame KeyTime="0" Value="0"/>
                <SplineDoubleKeyFrame KeyTime="0:0:0.5" Value="89"/>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
        <DataTemplate x:Key="NahkampfItemTemplate">
            <StackPanel>
                <CheckBox IsChecked="{Binding HasChanges}"/>
                <CheckBox IsChecked="{Binding HasValidationErrors}"/>
                <TextBlock Text="{Binding Talente}"/>
                <TextBlock Text="{Binding TP}"/>
                <TextBlock Text="{Binding TPKK}"/>
                <TextBlock Text="{Binding WM}"/>
            </StackPanel>
        </DataTemplate>

    </UserControl.Resources>
    <UserControl.Triggers>
        <EventTrigger RoutedEvent="UIElement.MouseLeftButtonUp" SourceName="SkipDetailToRuestung">
            <!--<BeginStoryboard Storyboard="{StaticResource HeldContentToRuestung}"/>-->
        </EventTrigger>
        <EventTrigger RoutedEvent="UIElement.MouseLeftButtonUp" SourceName="SkipRuestungToDetail">
            <BeginStoryboard x:Name="HeldRuestungToContent_BeginStoryboard" Storyboard="{StaticResource HeldRuestungToContent}"/>
        </EventTrigger>
    </UserControl.Triggers>

    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid x:Name="Held" Margin="5" Grid.Row="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid x:Name="HeldTitel" Grid.Row="0">
                    <Border Style="{DynamicResource ControlTitelBorder}">
                        <TextBlock Text="Held" Style="{DynamicResource TextTitel}" />
                    </Border>
                </Grid>
                <Border Grid.Row="1" Style="{DynamicResource ControlContentBorder}">
                    <Grid x:Name="HeldInhalt" Margin="5">
                        <Grid x:Name="RuestungMan" RenderTransformOrigin="0.5,0.5" Visibility="Collapsed">
                            <Grid.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform/>
                                    <SkewTransform AngleX="89"/>
                                    <RotateTransform/>
                                    <TranslateTransform/>
                                </TransformGroup>
                            </Grid.RenderTransform>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Grid Grid.Column="0">
                                <Grid HorizontalAlignment="Stretch" >
                                    <Grid.Background>
                                        <ImageBrush ImageSource="/DSA MeisterGeister;component/Images/Koerperzonen/koerperzonen_01.png" Stretch="Uniform" TileMode="None" />
                                    </Grid.Background>
                                    <ViewGeneral:IntBox Value="{Binding SelectedHeld.RüstungsschutzGesamt, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" ToolTip="Rüstungsschutz (Gesamt)" ShowButtons="True" Width="65" Margin="86.5,15.48,499.5,274.52" MinValue="0" IsEnabled="False" />
                                    <ViewGeneral:IntBox Margin="318.5,15.48,317.5,274.52" Value="{Binding SelectedHeld.RSKopf, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" ToolTip="Rüstungsschutz (Kopf)" ShowButtons="True" Width="65" MinWidth="50" MinValue="0" IsEnabled="False" />
                                    <ViewGeneral:IntBox Margin="250.5,65.5,335.5,224.5" Value="{Binding SelectedHeld.RSBrust, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" ToolTip="Rüstungsschutz (Brust)" ShowButtons="True" Width="65" MinWidth="50" MinValue="0" IsEnabled="False" />
                                    <ViewGeneral:IntBox Margin="340.5,65.5,245.5,224.5" Value="{Binding SelectedHeld.RSRücken, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" ToolTip="Rüstungsschutz (Rücken)" ShowButtons="True" Width="65" MinValue="0" MinWidth="50" IsEnabled="False" />
                                    <ViewGeneral:IntBox Margin="203,109.5,383,180.5" Value="{Binding SelectedHeld.RSArmL, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" ToolTip="Rüstungsschutz (linker Arm)" ShowButtons="True" Width="65" MinValue="0"  MinWidth="50" IsEnabled="False" />
                                    <ViewGeneral:IntBox Margin="392,105.5,194,184.5" Value="{Binding SelectedHeld.RSArmR, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" ToolTip="Rüstungsschutz (rechter Arm)" ShowButtons="True" Width="65" MinValue="0" MinWidth="50" IsEnabled="False" />
                                    <ViewGeneral:IntBox Margin="293.5,118.5,292.5,0" Value="{Binding SelectedHeld.RSBauch, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" ToolTip="Rüstungsschutz (Bauch)" ShowButtons="True" Width="65" MinValue="0" MinWidth="50" VerticalAlignment="Top" IsEnabled="False" />
                                    <ViewGeneral:IntBox Margin="221.5,211.5,364.5,78.5" Value="{Binding SelectedHeld.RSBeinL, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" ToolTip="Rüstungsschutz (linkes Bein)" ShowButtons="True" Width="65" MinWidth="50" MinValue="0" IsEnabled="False" />
                                    <ViewGeneral:IntBox Margin="368.5,211.5,210.5,78.5" Value="{Binding Tag.RSBeinR, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" ToolTip="Rüstungsschutz (rechtes Bein)" ShowButtons="True" Width="65" MinWidth="50" MinValue="0" IsEnabled="False" />
                                    <Label Content="Rüstung" Margin="23,14,0,0" Height="38" Width="73" HorizontalAlignment="Left" VerticalAlignment="Top" />
                                    <TextBlock HorizontalAlignment="Left" Margin="8,65.5,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="216" FontStyle="Italic" Height="85.5"><Run Language="de-de" Text="Leider ist dieser Bereich im aktuellen Stand nur in internen Beta's bereitgestellt, die Helden-Silhouette kann im 'Rüstungen / Waffen' Tab verändert werden.  "/></TextBlock>
                                </Grid>
                                <Label Content="Behinderung:" Margin="14,286,0,0" Height="27" VerticalAlignment="Top" HorizontalAlignment="Left"  />

                                <ViewGeneral:IntBox Margin="101,287,0,0" Value="{Binding SelectedHeld.BE, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" VerticalAlignment="Top" ToolTip="Behinderung" ShowButtons="True" MinWidth="65" HorizontalAlignment="Left" Width="65" IsEnabled="False" />
                            </Grid>
                            <Grid Grid.Column="1" HorizontalAlignment="Right" VerticalAlignment="Top">
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                    <Border x:Name="SkipRuestungToDetail" Width="50" Height="100" HorizontalAlignment="Center" Style="{DynamicResource ControlContentBorder}" Cursor="Hand" RenderTransformOrigin="0.5,0.5">
                                        <Border.RenderTransform>
                                            <TransformGroup>
                                                <ScaleTransform/>
                                                <SkewTransform/>
                                                <RotateTransform/>
                                                <TranslateTransform/>
                                            </TransformGroup>
                                        </Border.RenderTransform>
                                        <Image Source="/DSA MeisterGeister;component/Images/Icons/ueberanstrengung.png" Stretch="Uniform" />
                                    </Border>
                                </StackPanel>
                            </Grid>
                        </Grid>
                        <Grid x:Name="HeldDaten" RenderTransformOrigin="0.5,0.5">
                            <Grid.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform/>
                                    <SkewTransform/>
                                    <RotateTransform/>
                                    <TranslateTransform/>
                                </TransformGroup>
                            </Grid.RenderTransform>
                            <Grid.RowDefinitions>
                                <RowDefinition />
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <Grid Grid.Row="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition />
                                    <ColumnDefinition />
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Margin="0,0,0,0" HorizontalAlignment="Left">
                                    <Label  Content="Gewicht:"  Style="{DynamicResource TextInStack}" Height="25" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="0" />									
                                    <Label Content="Belastung in %:"  Style="{DynamicResource TextInStack}" Height="25" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="0"/>
                                </StackPanel>

                                <StackPanel Grid.Column="1" Margin="0,0,0,0" HorizontalAlignment="Left">
                                    <Label Content="{Binding AktuellesGewicht}" Margin="0" Height="25" VerticalAlignment="Center" HorizontalAlignment="Left" />
                                    <Label Content="{Binding AktuellesGewichtInProzentZuTragkraft}" Margin="0" FontFamily="Segoe UI" Height="25" VerticalAlignment="Center" HorizontalAlignment="Left" />
                                </StackPanel>
                                <StackPanel Grid.Column="2" Margin="0,0,0,0" HorizontalAlignment="Left">
                                    <Label  Content="Tragkraft:"  Style="{DynamicResource TextInStack}" Height="25" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="0" />
                                    <Label Content="BE aus Überlastung:"  Style="{DynamicResource TextInStack}" Height="25" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="0"/>
                                    <Label Content="BE aus 'Rüstungen / Waffen':"  Style="{DynamicResource TextInStack}" Height="25" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="0" />
                                </StackPanel>
                                <StackPanel Grid.Column="3" Margin="0,0,0,0" HorizontalAlignment="Left">
                                    <Label Content="{Binding AktuelleTragkraft}" Margin="0" Height="25" VerticalAlignment="Center" HorizontalAlignment="Left"  />
                                    <Label Content="{Binding AktuellesGewichtProzentResultierendeBE}" Margin="0" Height="25" VerticalAlignment="Center" HorizontalAlignment="Left"   />
                                    <Label Content="{Binding SelectedHeld.BE}" Margin="0" Height="25" VerticalAlignment="Center" HorizontalAlignment="Left"  />
                                </StackPanel>
                                <Grid Grid.Column="4">
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                        <Border x:Name="SkipDetailToRuestung" Width="50" HorizontalAlignment="Center" Style="{DynamicResource ControlContentBorder}" Cursor="Arrow" RenderTransformOrigin="0.5,0.5">
                                            <Border.RenderTransform>
                                                <TransformGroup>
                                                    <ScaleTransform/>
                                                    <SkewTransform/>
                                                    <RotateTransform/>
                                                    <TranslateTransform/>
                                                </TransformGroup>
                                            </Border.RenderTransform>
                                            <Image Source="/DSA MeisterGeister;component/Images/Koerperzonen/koerperzonen_01.png" Stretch="Uniform" />
                                        </Border>
                                    </StackPanel>
                                </Grid>
                            </Grid>
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Gewicht 1/2 getragener Rüstung wird in dieser Version nicht berücksichtigt!" TextWrapping="Wrap" FontStyle="Italic" />
                        </Grid>
                    </Grid>
                </Border>
            </Grid>
            <GridSplitter Grid.Row="1" Height="5" Margin="5,2,5,2" HorizontalAlignment="Stretch">
                <GridSplitter.Background>
                    <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                        <GradientStop Color="#FF9C835F" Offset="0"/>
                        <GradientStop Color="#FF645E56" Offset="0.517"/>
                        <GradientStop Color="#FF9C835F" Offset="0.952"/>
                    </LinearGradientBrush>
                </GridSplitter.Background>
            </GridSplitter>
            <Grid x:Name="Filter" Grid.Row="2" Margin="5">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <Border x:Name="FilterTitel" Style="{DynamicResource ControlTitelBorder}" >
                    <TextBlock Text="Filter" Style="{DynamicResource TextTitel}"/>
                </Border>
                <Border Grid.Row="1" Style="{DynamicResource ControlContentBorder}">
                    <TabControl x:Name="Tab" Background="Transparent" SelectedIndex="{Binding SelectedFilterIndex,Mode=TwoWay}" >
                        <TabControl.Resources>
                            <Style x:Key="TabItemFocusVisual">
                                <Setter Property="Control.Template">
                                    <Setter.Value>
                                        <ControlTemplate>
                                            <Rectangle Margin="3,3,3,1" SnapsToDevicePixels="true" Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" StrokeThickness="1" StrokeDashArray="1 2"/>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                            <LinearGradientBrush x:Key="TabItemHotBackground" EndPoint="0,1" StartPoint="0,0">
                                <GradientStop Color="#EAF6FD" Offset="0.15"/>
                                <GradientStop Color="#D9F0FC" Offset=".5"/>
                                <GradientStop Color="#BEE6FD" Offset=".5"/>
                                <GradientStop Color="#A7D9F5" Offset="1"/>
                            </LinearGradientBrush>
                            <SolidColorBrush x:Key="TabItemSelectedBackground" Color="#F9F9F9"/>
                            <SolidColorBrush x:Key="TabItemHotBorderBrush" Color="#3C7FB1"/>
                            <SolidColorBrush x:Key="TabItemDisabledBackground" Color="#F4F4F4"/>
                            <SolidColorBrush x:Key="TabItemDisabledBorderBrush" Color="#FFC9C7BA"/>
                            <Style x:Key="TabItemStyle1" TargetType="{x:Type TabItem}">
                                <Setter Property="FocusVisualStyle" Value="{StaticResource TabItemFocusVisual}"/>
                                <Setter Property="Foreground" Value="Black"/>
                                <Setter Property="Padding" Value="6,1,6,1"/>
                                <Setter Property="BorderBrush" Value="{StaticResource TabControlNormalBorderBrush}"/>
                                <Setter Property="Background" Value="{StaticResource ButtonNormalBackground}"/>
                                <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                <Setter Property="VerticalContentAlignment" Value="Stretch"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="{x:Type TabItem}">
                                            <Grid SnapsToDevicePixels="true" Background="Transparent">
                                                <Border x:Name="Bd" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="1,1,1,0" Padding="{TemplateBinding Padding}">
                                                    <ContentPresenter x:Name="Content" ContentSource="Header" HorizontalAlignment="{Binding HorizontalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{Binding VerticalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"/>
                                                </Border>
                                            </Grid>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="true">
                                                    <Setter Property="Background" TargetName="Bd" Value="{StaticResource TabItemHotBackground}"/>
                                                </Trigger>
                                                <Trigger Property="IsSelected" Value="true">
                                                    <Setter Property="Panel.ZIndex" Value="1"/>
                                                    <Setter Property="Background" TargetName="Bd" Value="{StaticResource TabItemSelectedBackground}"/>
                                                </Trigger>
                                                <MultiTrigger>
                                                    <MultiTrigger.Conditions>
                                                        <Condition Property="IsSelected" Value="false"/>
                                                        <Condition Property="IsMouseOver" Value="true"/>
                                                    </MultiTrigger.Conditions>
                                                    <Setter Property="BorderBrush" TargetName="Bd" Value="{StaticResource TabItemHotBorderBrush}"/>
                                                </MultiTrigger>
                                                <Trigger Property="TabStripPlacement" Value="Bottom">
                                                    <Setter Property="BorderThickness" TargetName="Bd" Value="1,0,1,1"/>
                                                </Trigger>
                                                <Trigger Property="TabStripPlacement" Value="Left">
                                                    <Setter Property="BorderThickness" TargetName="Bd" Value="1,1,0,1"/>
                                                </Trigger>
                                                <Trigger Property="TabStripPlacement" Value="Right">
                                                    <Setter Property="BorderThickness" TargetName="Bd" Value="0,1,1,1"/>
                                                </Trigger>
                                                <MultiTrigger>
                                                    <MultiTrigger.Conditions>
                                                        <Condition Property="IsSelected" Value="true"/>
                                                        <Condition Property="TabStripPlacement" Value="Top"/>
                                                    </MultiTrigger.Conditions>
                                                    <Setter Property="Margin" Value="-2,-2,-2,-1"/>
                                                    <Setter Property="Margin" TargetName="Content" Value="0,0,0,1"/>
                                                </MultiTrigger>
                                                <MultiTrigger>
                                                    <MultiTrigger.Conditions>
                                                        <Condition Property="IsSelected" Value="true"/>
                                                        <Condition Property="TabStripPlacement" Value="Bottom"/>
                                                    </MultiTrigger.Conditions>
                                                    <Setter Property="Margin" Value="-2,-1,-2,-2"/>
                                                    <Setter Property="Margin" TargetName="Content" Value="0,1,0,0"/>
                                                </MultiTrigger>
                                                <MultiTrigger>
                                                    <MultiTrigger.Conditions>
                                                        <Condition Property="IsSelected" Value="true"/>
                                                        <Condition Property="TabStripPlacement" Value="Left"/>
                                                    </MultiTrigger.Conditions>
                                                    <Setter Property="Margin" Value="-2,-2,-1,-2"/>
                                                    <Setter Property="Margin" TargetName="Content" Value="0,0,1,0"/>
                                                </MultiTrigger>
                                                <MultiTrigger>
                                                    <MultiTrigger.Conditions>
                                                        <Condition Property="IsSelected" Value="true"/>
                                                        <Condition Property="TabStripPlacement" Value="Right"/>
                                                    </MultiTrigger.Conditions>
                                                    <Setter Property="Margin" Value="-1,-2,-2,-2"/>
                                                    <Setter Property="Margin" TargetName="Content" Value="1,0,0,0"/>
                                                </MultiTrigger>
                                                <Trigger Property="IsEnabled" Value="false">
                                                    <Setter Property="Background" TargetName="Bd" Value="{StaticResource TabItemDisabledBackground}"/>
                                                    <Setter Property="BorderBrush" TargetName="Bd" Value="{StaticResource TabItemDisabledBorderBrush}"/>
                                                    <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                            <DataTemplate x:Key="DataTemplate1">
                                <Grid/>
                            </DataTemplate>
                        </TabControl.Resources>
                        <TabItem x:Name="All" Background="Transparent" IsSelected="{Binding IsAllSelected}">
                            <TabItem.Header>
                                <Border ToolTip="Alle">
                                    <Border.Background>
                                        <RadialGradientBrush>
                                            <GradientStop Color="#FF997545"/>
                                            <GradientStop Color="Transparent" Offset="1"/>
                                        </RadialGradientBrush>
                                    </Border.Background>
                                    <Grid>
                                        <Image Source="/DSA%20MeisterGeister;component/Images/Icons/nahkampf_02.png" Width="25" Height="25" />
                                    </Grid>
                                </Border>
                            </TabItem.Header>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Margin="5">
                                    <Label Content="Talent Nahkampf:" Style="{DynamicResource TextInStack}" />
                                    <Label Content="Talent Fernkampf:" Style="{DynamicResource TextInStack}" />
                                    <Label Content="Schild:" Style="{DynamicResource TextInStack}" />
                                    <Label Content="Sonstiges:" Style="{DynamicResource TextInStack}" />
                                </StackPanel>

                                <StackPanel Grid.Column="1" Margin="5">
                                    <ComboBox Margin="0,0,0,3"  ItemsSource="{Binding NahkampfWaffeTalentListe}" SelectedItem="{Binding SelectedNahkampfwaffeTalent}" Height="25.96" ItemTemplate="{DynamicResource ComboboxEasyItem_Talentname}" VerticalContentAlignment="Stretch">
                                        <ComboBox.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <VirtualizingStackPanel />
                                            </ItemsPanelTemplate>
                                        </ComboBox.ItemsPanel>
                                    </ComboBox>
                                    <ComboBox Margin="0,0,0,3" Height="25.96" ItemsSource="{Binding FernkampWaffeTalentListe}" SelectedItem="{Binding SelectedFernkampfwaffeTalent}" ItemTemplate="{DynamicResource ComboboxEasyItem_Talentname}" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                        <ComboBox.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <VirtualizingStackPanel />
                                            </ItemsPanelTemplate>
                                        </ComboBox.ItemsPanel>
                                    </ComboBox>
                                    <ComboBox Height="25.96" ItemsSource="{Binding SchildListe}" SelectedItem="{Binding SelectedSchild}" Margin="0,0,0,3" ItemTemplate="{DynamicResource ComboboxEasyItem_Name}" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                        <ComboBox.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <VirtualizingStackPanel />
                                            </ItemsPanelTemplate>
                                        </ComboBox.ItemsPanel>
                                    </ComboBox>
                                    <ComboBox Height="25.96" ItemsSource="{Binding SchildListe}" SelectedItem="{Binding SelectedSchild}" Margin="0,0,0,3" IsEnabled="False" ItemTemplate="{DynamicResource ComboboxEasyItem_Name}" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                        <ComboBox.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <VirtualizingStackPanel />
                                            </ItemsPanelTemplate>
                                        </ComboBox.ItemsPanel>
                                    </ComboBox>
                                </StackPanel>
                                <StackPanel Grid.Column="2" Margin="5">
                                    <Label Margin="0,0,0,3" Height="26"/>
                                    <Label Margin="0,0,0,3" Height="26"/>
                                    <Button Command="{Binding OnAddSchild}" VerticalAlignment="Center" Height="26"  Margin="0,0,0,3">
                                        <Image Source="/DSA MeisterGeister;component/Images/Icons/General/add.png" />
                                    </Button>
                                </StackPanel>
                                <StackPanel Grid.Column="3" Margin="5">
                                    <Label Content="Nahkampfwaffen:" Style="{DynamicResource TextInStack}"/>
                                    <Label Content="Fernkampfwaffen:" Style="{DynamicResource TextInStack}"/>
                                    <Label Content="Rüstung:" Style="{DynamicResource TextInStack}"/>

                                </StackPanel>
                                <StackPanel Grid.Column="4" Margin="5">
                                    <ComboBox Height="25.96" ItemsSource="{Binding NahkampfwaffeListe}" SelectedItem="{Binding SelectedNahkampfwaffe}" Margin="0,0,0,3" ItemTemplate="{DynamicResource ComboboxEasyItem_Name}" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                        <ComboBox.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <VirtualizingStackPanel />
                                            </ItemsPanelTemplate>
                                        </ComboBox.ItemsPanel>
                                    </ComboBox>
                                    <ComboBox Height="25.96" ItemsSource="{Binding FernkampfwaffeListe}"  SelectedItem="{Binding SelectedFernkampfwaffe}" Margin="0,0,0,3" ItemTemplate="{DynamicResource ComboboxEasyItem_Name}" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                        <ComboBox.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <VirtualizingStackPanel />
                                            </ItemsPanelTemplate>
                                        </ComboBox.ItemsPanel>
                                    </ComboBox>
                                    <ComboBox Height="25.96" ItemsSource="{Binding RuestungListe}"  SelectedItem="{Binding SelectedRuestung}" Margin="0,0,0,3" ItemTemplate="{DynamicResource ComboboxEasyItem_Name}" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                        <ComboBox.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <VirtualizingStackPanel />
                                            </ItemsPanelTemplate>
                                        </ComboBox.ItemsPanel>
                                    </ComboBox>
                                </StackPanel>
                                <StackPanel Grid.Column="5" Margin="5">
                                    <Button x:Name="ADDNah" Command="{Binding OnAddNahkampfwaffe}" VerticalAlignment="Center" Height="26"  Margin="0,0,0,3">
                                        <Image Source="/DSA MeisterGeister;component/Images/Icons/General/add.png" />
                                    </Button>
                                    <Button x:Name="ADDFern" Command="{Binding OnAddFernwaffe}" VerticalAlignment="Center" Height="26"  Margin="0,0,0,3">
                                        <Image Source="/DSA MeisterGeister;component/Images/Icons/General/add.png" />
                                    </Button>
                                    <Button x:Name="ADDRuestung" Command="{Binding OnAddRuestung}" VerticalAlignment="Center" Height="26"  Margin="0,0,0,3">
                                        <Image Source="/DSA MeisterGeister;component/Images/Icons/General/add.png" />
                                    </Button>
                                </StackPanel>
                            </Grid>
                        </TabItem>
                        <TabItem x:Name="NahkampfFilter" Background="Transparent" IsSelected="{Binding IsNahkampfWaffeSelected}">
                            <TabItem.Header>
                                <Border ToolTip="Nahkampfwaffen">
                                    <Grid>
                                        <Image Source="/DSA%20MeisterGeister;component/Images/Icons/nahkampf_01.png" Width="25" Height="25" />
                                    </Grid>
                                </Border>
                            </TabItem.Header>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Margin="5">
                                    <Label Content="Talent Nahkampf:" Style="{DynamicResource TextInStack}" />
                                </StackPanel>
                                <StackPanel Grid.Column="1" Margin="5">
                                    <ComboBox Margin="0,0,0,3"  ItemsSource="{Binding NahkampfWaffeTalentListe}" SelectedItem="{Binding SelectedNahkampfwaffeTalent}" Height="25.96" ItemTemplate="{DynamicResource ComboboxEasyItem_Talentname}" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                        <ComboBox.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <VirtualizingStackPanel />
                                            </ItemsPanelTemplate>
                                        </ComboBox.ItemsPanel>
                                    </ComboBox>
                                </StackPanel>
                                <StackPanel Grid.Column="2" Margin="5">
                                    <Label Content="Nahkampfwaffe:" Style="{DynamicResource TextInStack}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="3" Margin="5">
                                    <ComboBox Height="25.96" ItemsSource="{Binding NahkampfwaffeListe}" SelectedItem="{Binding SelectedNahkampfwaffe}" Margin="0,0,0,3" ItemTemplate="{DynamicResource ComboboxEasyItem_Name}" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                        <ComboBox.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <VirtualizingStackPanel />
                                            </ItemsPanelTemplate>
                                        </ComboBox.ItemsPanel>
                                    </ComboBox>
                                </StackPanel>
                                <StackPanel Grid.Column="4" Margin="5">
                                    <Button x:Name="ADDNah2" Command="{Binding OnAddNahkampfwaffe}" VerticalAlignment="Center" Height="23" Margin="0,0,0,5">
                                        <Image Source="/DSA MeisterGeister;component/Images/Icons/General/add.png" />
                                    </Button>
                                </StackPanel>
                            </Grid>
                        </TabItem>
                        <TabItem x:Name="FernkampfFilter" Background="Transparent" IsSelected="{Binding IsFernkampfwaffeSelected}">
                            <TabItem.Header >
                                <Border ToolTip="Fernkampfwaffen">
                                    <Grid>
                                        <Image Source="/DSA%20MeisterGeister;component/Images/Icons/fernkampf.png" Width="25" Height="25" />
                                    </Grid>
                                </Border>
                            </TabItem.Header>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Margin="5">
                                    <Label Content="Talent Fernkampf:" Style="{DynamicResource TextInStack}" />
                                </StackPanel>
                                <StackPanel Grid.Column="1" Margin="5">
                                    <ComboBox Margin="0,0,0,3" Height="25.96" ItemsSource="{Binding FernkampWaffeTalentListe}" SelectedItem="{Binding SelectedFernkampfwaffeTalent}" ItemTemplate="{DynamicResource ComboboxEasyItem_Talentname}" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                        <ComboBox.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <VirtualizingStackPanel />
                                            </ItemsPanelTemplate>
                                        </ComboBox.ItemsPanel>
                                    </ComboBox>
                                </StackPanel>
                                <StackPanel Grid.Column="2" Margin="5">
                                    <Label Content="Fernkampfwaffe:" Style="{DynamicResource TextInStack}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="3" Margin="5">
                                    <ComboBox Height="25.96" ItemsSource="{Binding FernkampfwaffeListe}"  SelectedItem="{Binding SelectedFernkampfwaffe}" Margin="0,0,0,3" ItemTemplate="{DynamicResource ComboboxEasyItem_Name}" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                        <ComboBox.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <VirtualizingStackPanel />
                                            </ItemsPanelTemplate>
                                        </ComboBox.ItemsPanel>
                                    </ComboBox>
                                </StackPanel>
                                <StackPanel Grid.Column="4" Margin="5">
                                    <Button  Command="{Binding OnAddFernwaffe}" VerticalAlignment="Center" Height="23" Margin="0,0,0,5">
                                        <Image Source="/DSA MeisterGeister;component/Images/Icons/General/add.png" />
                                    </Button>
                                </StackPanel>
                            </Grid>

                        </TabItem>
                        <TabItem x:Name="SchildFilter" Background="Transparent" IsSelected="{Binding IsSchildSelected}">
                            <TabItem.Header >
                                <Grid ToolTip="Schilde u. Parierwaffen">
                                    <Border >
                                        <Image Source="/DSA%20MeisterGeister;component/Images/Icons/schild.png" Width="25" Height="25" />
                                    </Border>
                                </Grid>
                            </TabItem.Header>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Margin="5">
                                    <Label Content="Schild:" Style="{DynamicResource TextInStack}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Margin="5">
                                    <ComboBox Height="25.96" ItemsSource="{Binding SchildListe}" SelectedItem="{Binding SelectedSchild}" Margin="0,0,0,3" ItemTemplate="{DynamicResource ComboboxEasyItem_Name}" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                        <ComboBox.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <VirtualizingStackPanel />
                                            </ItemsPanelTemplate>
                                        </ComboBox.ItemsPanel>
                                    </ComboBox>
                                </StackPanel>
                                <StackPanel Grid.Column="2" Margin="5">
                                    <Button  Command="{Binding OnAddSchild}" VerticalAlignment="Center" Height="23" Margin="0,0,0,5">
                                        <Image Source="/DSA MeisterGeister;component/Images/Icons/General/add.png" />
                                    </Button>
                                </StackPanel>
                            </Grid>
                        </TabItem>
                        <TabItem x:Name="RuestungFilter" Background="Transparent" IsSelected="{Binding IsRuestungSelected}" >
                            <TabItem.Header >
                                <Grid ToolTip="Rüstungen">
                                    <Border >
                                        <Image Source="/DSA%20MeisterGeister;component/Images/Icons/ruestung.png" Width="25" Height="25" />
                                    </Border>
                                </Grid>
                            </TabItem.Header>

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Margin="5">
                                    <Label Content="Rüstung:" Style="{DynamicResource TextInStack}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Margin="5">
                                    <ComboBox Height="25.96" ItemsSource="{Binding RuestungListe}"  SelectedItem="{Binding SelectedRuestung}" Margin="0,0,0,3" ItemTemplate="{DynamicResource ComboboxEasyItem_Name}" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                        <ComboBox.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <VirtualizingStackPanel />
                                            </ItemsPanelTemplate>
                                        </ComboBox.ItemsPanel>
                                    </ComboBox>
                                </StackPanel>
                                <StackPanel Grid.Column="2" Margin="5">
                                    <Button  Command="{Binding OnAddRuestung}" VerticalAlignment="Center" Height="23">
                                        <Image Source="/DSA MeisterGeister;component/Images/Icons/General/add.png" />
                                    </Button>
                                </StackPanel>
                            </Grid>
                        </TabItem>
                        <TabItem x:Name="Sonstiges" Background="Transparent" IsSelected="{Binding IsSonstigesSelected}" IsEnabled="false" Visibility="Collapsed" >
                            <TabItem.Effect>
                                <DropShadowEffect/>
                            </TabItem.Effect>
                            <TabItem.Header>
                                <Grid Height="50" Width="50">
                                    <Border Height="50" Width="50" >
                                        <Image Height="50" Width="50" Source="/DSA%20MeisterGeister;component/Images/Icons/proviant.png" >
                                            <Image.Effect>
                                                <DropShadowEffect/>
                                            </Image.Effect>
                                        </Image>
                                    </Border>
                                </Grid>
                            </TabItem.Header>
                            <Grid Margin="5">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition />
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition />
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="Sonstiges" Margin="0,0,10,0" VerticalAlignment="Center" />
                                        <ComboBox Height="23"  Width="222" ItemsSource="{Binding InventarListe}" DisplayMemberPath="Name" SelectedItem="{Binding SelectedRuestung}" />
                                        <Button Command="{Binding OnAddInventar}" VerticalAlignment="Center" Height="25">
                                            <Image Source="/DSA MeisterGeister;component/Images/Icons/General/add.png" />
                                        </Button>
                                    </StackPanel>
                                    <Button HorizontalAlignment="Left" Margin="8,8,0,23" Width="51.5" BorderThickness="0" Background="{x:Null}" Visibility="Collapsed">
                                        <Image Height="8" Source="/DSA MeisterGeister;component/Images/Icons/General/pfeil_rechts.png" Stretch="Fill" Width="17.5"/>
                                    </Button>
                                </Grid>
                            </Grid>
                        </TabItem>
                    </TabControl>
                </Border>
            </Grid>
            <GridSplitter Grid.Row="3"  Height="5" Margin="5,2,5,2" HorizontalAlignment="Stretch" >
                <GridSplitter.Background>
                    <LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
                        <GradientStop Color="#FF9C835F" Offset="0"/>
                        <GradientStop Color="#FF645E56" Offset="0.517"/>
                        <GradientStop Color="#FF9C835F" Offset="0.952"/>
                    </LinearGradientBrush>
                </GridSplitter.Background>
            </GridSplitter>
            <TextBlock Text="Beta!" HorizontalAlignment="Right"  FontWeight="Bold" FontSize="20" Foreground="DarkCyan" TextDecorations="Underline" Margin="0,0,83.472,22.862" RenderTransformOrigin="0,1" Width="50.541" Height="32.433" VerticalAlignment="Bottom" >
        	<TextBlock.RenderTransform>
        		<TransformGroup>
        			<ScaleTransform ScaleY="2.25" ScaleX="1.9"/>
        			<SkewTransform AngleX="55" AngleY="-20"/>
        			<RotateTransform Angle="5"/>
        			<TranslateTransform/>
        		</TransformGroup>
        	</TextBlock.RenderTransform>
        	<TextBlock.Effect>
        		<DropShadowEffect Color="#FFBAC225" ShadowDepth="2" BlurRadius="3" Direction="270"/>
        	</TextBlock.Effect>
            </TextBlock>
            <Grid x:Name="Inventar" Margin="5" Grid.Row="4">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <Border Grid.Row="0" x:Name="InventarTitel" Style="{DynamicResource ControlTitelBorder}" >
                    <TextBlock Text="Inventar" Style="{DynamicResource TextTitel}" />
                </Border>

                <Border Style="{DynamicResource ControlContentBorder}" Grid.Row="1">
                    <ScrollViewer HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto">
                        <Grid x:Name="InventarAnzeigen">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <Grid x:Name="NI" Grid.Row="0" Margin="5" Visibility="{Binding IsNahkampfwaffevorhanden}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Border Grid.Row="0" x:Name="NITitel" BorderBrush="#B3996C" BorderThickness="1,1,1,0" VerticalAlignment="Top" Style="{DynamicResource ControlTitelBorder}" Height="25">
                                    <Grid>
                                        <Image Source="/DSA%20MeisterGeister;component/Images/Icons/nahkampf_01.png" Height="25" Width="25"/>
                                    </Grid>
                                </Border>
                                <!-- Nahkampf -->
                                <Border Grid.Row="1" x:Name="NIHead" BorderBrush="#B3996C" BorderThickness="1,0,1,0" VerticalAlignment="Top" Style="{DynamicResource ControlContentBorder}" >
                                    <Grid Margin="0,0,25,0" >
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                        </Grid.ColumnDefinitions>
                                        <Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="Getragen" Grid.Column="0"/>
                                        <Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="Gewicht" Grid.Column="1" />
										<Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="Name" Grid.Column="2" Grid.ColumnSpan="3"  />
                                        <Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="TP" Grid.Column="5" />
                                        <Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="TP/KK" Grid.Column="6" />                                        
                                        <Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="BF" Grid.Column="7" />
                                        <Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="INI"  Grid.Column="8" />
                                        <Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="WM"  Grid.Column="9" />
                                        <Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="DK" Grid.Column="10" />
                                    </Grid>
                                </Border>
                                <Border Grid.Row="2" x:Name="NIList" BorderBrush="#B3996C" BorderThickness="1,0,1,1" VerticalAlignment="Top" >
                                    <ListBox ItemTemplate="{DynamicResource NahkampfwaffeTemplate}" ItemsSource="{Binding HeldNahkampfWaffeImInventar}" BorderThickness="0" Background="{x:Null}" ItemContainerStyle="{DynamicResource ListBoxItemStretch}" HorizontalAlignment="Stretch"/>
                                </Border>
                            </Grid>
                            <Grid x:Name="FI" Visibility="{Binding IsFernkampfwaffevorhanden}" Grid.Row="1">
                            	<Grid.RowDefinitions>
                            		<RowDefinition Height="Auto" />
                            		<RowDefinition Height="Auto" />
                            		<RowDefinition Height="Auto" />
                            	</Grid.RowDefinitions>
                            	<Border Grid.Row="0" x:Name="FITitel" BorderBrush="#B3996C" BorderThickness="1,1,1,0" VerticalAlignment="Top" Style="{DynamicResource ControlTitelBorder}" Height="25">
                            		<Grid>
                                        <Image Source="/DSA%20MeisterGeister;component/Images/Icons/fernkampf.png" Height="25" Width="25" />
                            		</Grid>
                            	</Border>
                            	<Border Grid.Row="1" x:Name="FIHead" Margin="0,0,25,0" Visibility="{Binding IsFernkampfwaffevorhanden}" BorderBrush="#B3996C" BorderThickness="1,0,1,0" VerticalAlignment="Top" Style="{DynamicResource ControlContentBorder}" >
                            		<Grid>
                            			<Grid.ColumnDefinitions>
                            				<ColumnDefinition />
                            				<ColumnDefinition />
                            				<ColumnDefinition />
                            				<ColumnDefinition />
                            				<ColumnDefinition />
                            				<ColumnDefinition />
                            				<ColumnDefinition />
                            				<ColumnDefinition />
                            				<ColumnDefinition />
                            				<ColumnDefinition />                            				
                            			</Grid.ColumnDefinitions>
                            			<Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="Getragen" Grid.Column="0" />
                            			<Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="Gewicht" Grid.Column="1" />
										<Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="Name" Grid.Column="2" Grid.ColumnSpan="2" />
                            			<Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="TP" Grid.Column="4" />
                            			<Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="Reichweiten" Grid.Column="5" Grid.ColumnSpan="2" />
                            			<Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="TP+" Grid.Column="7" Grid.ColumnSpan="2" />                            		
                            			<Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="Laden" Grid.Column="9" />                            			
                            		</Grid>
                            	</Border>
                            	<Border Grid.Row="2" x:Name="FIListe" BorderBrush="#B3996C" BorderThickness="1,0,1,1" VerticalAlignment="Top" >
                            		<StackPanel>
                            			<ListBox ItemTemplate="{DynamicResource FernkampfwaffeTemplate}" ItemsSource="{Binding HeldFernkampfwaffeImInventar}" VerticalAlignment="Top" BorderThickness="0" Background="Transparent" ItemContainerStyle="{DynamicResource ListBoxItemStretch}"/>
                            			<Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="*: Wundschwelle (KO/2)-2 | **: improvisiert" FontWeight="Bold" FontStyle="Italic"/>
                            		</StackPanel>
                            	</Border>
                            </Grid>
                            <Grid x:Name="SI" Grid.Row="2" Margin="5" Visibility="{Binding IsSchildVorhanden}">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <!-- Schild -->
                                <Border x:Name="SITitel" Grid.Row="0" BorderBrush="#B3996C" BorderThickness="1,1,1,0" VerticalAlignment="Top" Style="{DynamicResource ControlTitelBorder}" Height="25" >
                                    <Grid >
                                        <Image Source="/DSA%20MeisterGeister;component/Images/Icons/schild.png" Height="25" Width="25"/>
                                    </Grid>
                                </Border>
                                <Border x:Name="SIHead" Grid.Row="1" BorderBrush="#B3996C" BorderThickness="1,0,1,0" VerticalAlignment="Top" Style="{DynamicResource ControlContentBorder}" >
                                    <Grid Margin="0,0,25,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />                                            
                                        </Grid.ColumnDefinitions>
                                        <Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="Getragen"  Grid.Column="0" />
                                        <Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="Gewicht"  Grid.Column="1" />
										<Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="Name"  Grid.Column="2" Grid.ColumnSpan="3" />                                                                                
                                        <Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="Größe"  Grid.Column="5" />
                                        <Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="WM"  Grid.Column="6" />
                                        <Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="INI"  Grid.Column="7" />
                                        <Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="BF" Grid.Column="8" />                                        
                                    </Grid>
                                </Border>
                                <Border Grid.Row="2" x:Name="SIListe" BorderBrush="#B3996C" BorderThickness="1,0,1,1" VerticalAlignment="Top" >
                                    <ListBox ItemTemplate="{DynamicResource SchildTemplate}" ItemsSource="{Binding HeldSchildImInventar}" BorderThickness="0" Background="Transparent" ItemContainerStyle="{DynamicResource ListBoxItemStretch}" HorizontalAlignment="Stretch"/>
                                </Border>
                            </Grid>
                            <Grid x:Name="RI" Grid.Row="3" Margin="5" Visibility="{Binding IsRuestungVorhanden}" >
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <!-- Rüstung -->
                                <Border Grid.Row="0" x:Name="RITitel" BorderBrush="#B3996C" BorderThickness="1,1,1,0" VerticalAlignment="Top" Style="{DynamicResource ControlTitelBorder}" Height="25">
                                    <Grid >
                                        <Image Source="/DSA%20MeisterGeister;component/Images/Icons/ruestung.png" Height="25" Width="25" />
                                    </Grid>
                                </Border>
                                <Border Grid.Row="1" x:Name="RIHead" BorderBrush="#B3996C" BorderThickness="1,0,1,0" VerticalAlignment="Top" Style="{DynamicResource ControlContentBorder}" >
                                    <Grid Margin="0,0,25,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />
                                            <ColumnDefinition />                                            
                                        </Grid.ColumnDefinitions>
                                        <Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="Getragen"  Grid.Column="0" />
                                        <Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="Gewicht"  Grid.Column="1" />
										<Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="Name" Grid.Column="2" Grid.ColumnSpan="2"   />										
                                        <Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="RS"  Grid.Column="4" />
                                        <Label Style="{DynamicResource sLblStretchTextCenterHighlight}" Content="BE"  Grid.Column="5" />
                                        
                                    </Grid>
                                </Border>
                                <Border Grid.Row="2" x:Name="RIListe" BorderBrush="#B3996C" BorderThickness="1,0,1,1" VerticalAlignment="Top" >
                                    <ListBox ItemTemplate="{DynamicResource RuestungTemplate}" ItemsSource="{Binding HeldRuestungImInventar}" VerticalAlignment="Top" BorderThickness="0" Background="Transparent" ItemContainerStyle="{DynamicResource ListBoxItemStretch}"/>
                                </Border>
                            </Grid>
                        </Grid>
                    </ScrollViewer>
                </Border>
            </Grid>
        </Grid>
    </ScrollViewer>
</UserControl>
